<!DOCTYPE html><!--n_OaHVlfcIetbxWrGFmpn--><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/b2aa10a3cb761d2f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-cc328fc80d1d92f9.js"/><script src="/_next/static/chunks/eecf3333-be88052a8c8f8697.js" async=""></script><script src="/_next/static/chunks/4752-58b380405a07aaf7.js" async=""></script><script src="/_next/static/chunks/main-app-b80276bf8fc0d295.js" async=""></script><script src="/_next/static/chunks/6752-90baefdcb051c3c1.js" async=""></script><script src="/_next/static/chunks/2346-8f59889a5170c5da.js" async=""></script><script src="/_next/static/chunks/app/not-found-ffca88c5e945e772.js" async=""></script><script src="/_next/static/chunks/1909-ac3fe94adcf1a95e.js" async=""></script><script src="/_next/static/chunks/1278-1b71cee32080193b.js" async=""></script><script src="/_next/static/chunks/1399-c867858dd6d3be69.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js" async=""></script><script src="/_next/static/chunks/8267-dd1b836d6e85c2aa.js" async=""></script><script src="/_next/static/chunks/4078-f6abe0d6c13465e4.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/docs/%5Bslug%5D/page-1401b27bc56f3599.js" async=""></script><meta name="author" content="水杉智境工作室"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#000000"/><title>AI 工作流搭建实战 | 文档中心</title><meta name="description" content="使用可视化工具搭建自动化 AI 工作流，提升业务效率"/><link rel="canonical" href="/zh/docs/workflow"/><meta property="og:title" content="水杉智境工作室"/><meta property="og:description" content="为客户提供大模型私有化部署、应用开发及智能体定制服务"/><meta property="og:image" content="http://localhost:3000/favicon.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="水杉智境工作室"/><meta name="twitter:description" content="为客户提供大模型私有化部署、应用开发及智能体定制服务"/><meta name="twitter:image" content="http://localhost:3000/favicon.jpg"/><link rel="icon" href="/favicon.jpg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="antialiased"><div hidden=""><!--$--><!--/$--></div><html lang="zh"><head></head><body class="antialiased"><div class="flex flex-col min-h-screen"><header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-transparent"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16 lg:h-20"><a class="flex items-center gap-3 group" href="/zh/"><div class="relative w-9 h-9 rounded-xl overflow-hidden shadow-card group-hover:shadow-glow transition-shadow duration-300"><img alt="Logo" draggable="false" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/favicon.jpg"/></div><span class="text-lg font-bold gradient-text hidden sm:block">水杉智境</span></a><nav class="hidden lg:flex items-center gap-1"><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/">首页</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/services/">服务</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/store/">商店</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-primary" href="/zh/docs/">文档<div class="absolute inset-0 bg-primary/10 dark:bg-primary/20 rounded-lg -z-10"></div></a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/contact/">联系我们</a></nav><div class="flex items-center gap-2"><button class="hidden lg:flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all group"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg><span class="text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300">搜索</span><kbd class="hidden xl:inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-sans bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 rounded border border-slate-200 dark:border-slate-700"><span>⌘</span><span>K</span></kbd></button><button class="lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg></button><div class="relative dropdown-container hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 transition-transform "><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg></button></div><div class="relative dropdown-container hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all"><span class="uppercase font-semibold text-xs">zh</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 transition-transform "><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg></button></div><a class="hidden lg:flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-600 text-white text-sm font-medium rounded-xl transition-all hover:shadow-glow btn-shine" href="/zh/contact/">开始合作</a><button class="lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div></div></div></header><main class="flex-grow"><div class="min-h-screen bg-slate-50 dark:bg-slate-900 pt-20"><header class="fixed top-16 lg:top-20 left-0 right-0 z-30 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-700"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-14"><a class="flex items-center gap-2 text-slate-500 hover:text-indigo-600 transition-colors group" href="/zh/docs/"><div class="w-8 h-8 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/30 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg></div><span class="text-sm font-medium">返回文档列表</span></a><nav class="hidden sm:flex items-center gap-2 text-sm text-slate-500"><a class="hover:text-indigo-600 transition-colors" href="/zh/">首页</a><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path></svg><a class="hover:text-indigo-600 transition-colors" href="/zh/docs/">文档中心</a><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path></svg><span class="text-slate-900 dark:text-white font-medium">进阶教程</span></nav></div></div></header><div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12"><div class="grid grid-cols-1 lg:grid-cols-12 gap-8"><aside class="hidden lg:block lg:col-span-3"><div class="sticky top-24 space-y-6"><div class="bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm"><h3 class="text-sm font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 text-indigo-500"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path></svg>文档导航</h3><nav class="space-y-4"><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">开发指南</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/api-integration/">API 集成开发指南</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">技术文档</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/api-reference/">API 文档</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/model-deployment/">模型部署指南</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">帮助中心</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/faq/">常见问题</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">入门指南</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/introduction/">欢迎使用水杉智境工作室</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">进阶教程</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/knowledge-base/">本地知识库搭建指南</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/prompt-engineering/">提示词工程最佳实践</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-medium" href="/zh/docs/workflow/">AI 工作流搭建实战</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">其他</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/privacy-policy-en/">privacy-policy-en</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/privacy-policy/">privacy-policy</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/terms-of-service-en/">terms-of-service-en</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/terms-of-service/">terms-of-service</a></li></ul></div></nav></div></div></aside><main class="lg:col-span-7"><div class="mb-8" style="opacity:0;transform:translateY(20px)"><div class="flex items-center gap-3 mb-6"><span class="inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-sm font-medium"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"></path></svg>进阶教程</span><span class="flex items-center gap-1.5 text-sm text-slate-500 dark:text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg>更新于 <!-- -->2025-02-09</span></div><h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight">AI 工作流搭建实战</h1><p class="text-lg text-slate-600 dark:text-slate-400 leading-relaxed">使用可视化工具搭建自动化 AI 工作流，提升业务效率</p><div class="flex items-center gap-2 mt-4"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 text-slate-400"><path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z"></path></svg><div class="flex flex-wrap gap-2"><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">工作流</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">自动化</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">Dify</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">智能体</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">业务流程</span></div></div></div><article class="bg-white dark:bg-slate-800 rounded-2xl p-8 lg:p-10 border border-slate-200 dark:border-slate-700 shadow-sm" style="opacity:0;transform:translateY(20px)"><div class="prose dark:prose-invert max-w-none "><h1 id="ai-工作流搭建实战" class="text-3xl font-bold mb-8 text-slate-900 dark:text-white scroll-mt-24"><a href="#ai-工作流搭建实战" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">AI 工作流搭建实战</a></h1>
<h2 id="概述" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#概述" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">概述</a></h2>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">AI 工作流（AI Workflow）是将大语言模型与业务流程相结合的自动化系统。通过可视化的流程编排工具，无需编写代码即可构建复杂的 AI 应用。</p>
<h2 id="常见工作流类型" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#常见工作流类型" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">常见工作流类型</a></h2>
<div class="overflow-x-auto my-6"><table class="w-full border-collapse"><thead class="bg-slate-50 dark:bg-slate-800"><tr><th class="border border-slate-200 dark:border-slate-700 px-4 py-2 text-left font-semibold">类型</th><th class="border border-slate-200 dark:border-slate-700 px-4 py-2 text-left font-semibold">应用场景</th><th class="border border-slate-200 dark:border-slate-700 px-4 py-2 text-left font-semibold">典型工具</th></tr></thead><tbody><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">内容生成</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">文章写作、营销文案</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">Dify、Coze</td></tr><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">数据处理</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">文档分析、信息提取</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">LangFlow、Flowise</td></tr><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">客服自动化</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">智能问答、工单处理</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">Dify、FastGPT</td></tr><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">代码辅助</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">代码生成、Code Review</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">Continue、Cursor</td></tr></tbody></table></div>
<h2 id="dify-快速入门" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#dify-快速入门" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">Dify 快速入门</a></h2>
<h3 id="环境部署" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#环境部署" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">环境部署</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">Docker 部署（推荐）</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">bash</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-bash" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 克隆仓库</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">git</span><span> clone https://github.com/langgenius/dify.git
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">cd</span><span> dify/docker
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 启动服务</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">docker-compose</span><span> up -d
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 访问 http://localhost/install 完成初始化</span></code></pre></div></div></pre>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">本地开发环境</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">bash</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-bash" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 后端</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">cd</span><span> api
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>poetry </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>poetry shell
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span>flask db upgrade
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>flask run --host </span><span class="token" style="color:hsl(35, 99%, 36%)">0.0</span><span>.0.0 --port </span><span class="token" style="color:hsl(35, 99%, 36%)">5001</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 前端</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">cd</span><span> web
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">npm</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">npm</span><span> run dev</span></code></pre></div></div></pre>
<h3 id="第一个工作流智能客服" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#第一个工作流智能客服" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">第一个工作流：智能客服</a></h3>
<h4 id="步骤-1-创建应用"><a href="#步骤-1-创建应用" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">步骤 1: 创建应用</a></h4>
<ol class="my-6 space-y-2 list-decimal list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">登录 Dify 控制台</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">点击「创建应用」→「工作流编排」</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">命名：智能客服助手</li>
</ol>
<h4 id="步骤-2-设计流程"><a href="#步骤-2-设计流程" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">步骤 2: 设计流程</a></h4>
<pre><div class="my-6 p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 flex justify-center overflow-x-auto"></div></pre>
<h4 id="步骤-3-配置节点"><a href="#步骤-3-配置节点" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">步骤 3: 配置节点</a></h4>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">意图识别节点配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;model&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-4&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;temperature&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.3</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;system_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是一个客服意图识别专家。请分析用户问题，判断意图类型：\n1. technical - 技术问题\n2. product - 产品咨询\n3. complaint - 投诉建议\n4. other - 其他\n\n只输出意图类型，不要解释。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;user_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用户问题：{{#start.user_input#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></div></pre>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">知识检索节点配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;knowledge_base&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;产品知识库&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;retrieval_mode&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;semantic&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;top_k&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">3</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;score_threshold&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.7</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></div></pre>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">答案生成节点配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;model&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-4&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;temperature&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.7</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;system_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是专业客服助手。基于检索到的知识回答用户问题。如果知识不足，礼貌地告知用户需要转人工。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;user_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用户问题：{{#start.user_input#}}\n\n相关知识：{{#retrieval.result#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></div></pre>
<h3 id="进阶工作流内容生成流水线" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#进阶工作流内容生成流水线" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">进阶工作流：内容生成流水线</a></h3>
<h4 id="场景描述"><a href="#场景描述" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">场景描述</a></h4>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">自动生成一篇完整的公众号文章：选题 → 大纲 → 正文 → 配图建议 → 标题优化</p>
<h4 id="流程设计"><a href="#流程设计" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">流程设计</a></h4>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token key" style="color:hsl(35, 99%, 36%)">workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> 公众号文章生成器
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">nodes</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> start
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> start
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> topic
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> text
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">label</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> 文章主题
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> research
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> http</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>request
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">url</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;https://api.example.com/trending&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">method</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> GET
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">params</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">keyword</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#start.topic#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span>      
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> outline
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">22</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">23</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> claude</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>3</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>opus
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">24</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">25</span>          基于主题「{{#start.topic#}}」和热点数据：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">26</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#research.result#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">27</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">28</span>          生成文章大纲，包含：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">29</span>          1. 吸引人的标题（3个备选）
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">30</span><span>          2. 文章结构（引言</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>正文</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>结论）
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">31</span>          3. 每个部分的核心观点
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">32</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">33</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> content
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">34</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">35</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">36</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> gpt</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span class="token" style="color:hsl(35, 99%, 36%)">4</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">37</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">38</span>          根据大纲撰写完整文章：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">39</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#outline.result#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">40</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">41</span>          要求：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">42</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 字数：1500</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>2000字
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">43</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 风格：专业但易懂
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">44</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 包含具体案例和数据
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">45</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">46</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> image</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>suggestions
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">47</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">48</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">49</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> gpt</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>4</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>vision
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">50</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">51</span>          为以下文章内容推荐配图：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">52</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#content.result#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">53</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">54</span>          每张图需说明：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">55</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 图片主题
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">56</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 构图建议
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">57</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 配色方案
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">58</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">59</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> title</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>optimize
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">60</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">61</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">62</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> claude</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>3</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>haiku
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">63</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">64</span>          优化以下标题，生成10个爆款标题选项：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">65</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#outline.titles#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">66</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">67</span>          优化方向：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">68</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 数字法则
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">69</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 悬念设置
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">70</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 情感共鸣
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">71</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 实用性强调
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">72</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">73</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> end
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">74</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> end
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">75</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">outputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">76</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> article
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">77</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#content.result#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">78</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> titles
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">79</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#title-optimize.result#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">80</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> images
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">81</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#image-suggestions.result#}}&quot;</span></code></pre></div></div></pre>
<h2 id="langflow-工作流搭建" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#langflow-工作流搭建" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">LangFlow 工作流搭建</a></h2>
<h3 id="安装部署" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#安装部署" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">安装部署</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">bash</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-bash" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span>pip </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> langflow
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 启动</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>langflow run
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 访问 http://localhost:7860</span></code></pre></div></div></pre>
<h3 id="搭建数据提取工作流" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#搭建数据提取工作流" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">搭建数据提取工作流</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">场景：</strong> 从合同 PDF 中提取关键信息</p>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">组件清单：</strong></p>
<ol class="my-6 space-y-2 list-decimal list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">File</strong> - 上传 PDF 文件</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">PDF Loader</strong> - 解析文档内容</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">Split Text</strong> - 文档分块</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">ChatOpenAI</strong> - LLM 处理</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">Prompt</strong> - 提取提示词</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">Output Parser</strong> - JSON 格式化</li>
</ol>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">Prompt 配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span>从以下合同内容中提取信息，以 JSON 格式返回：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>合同内容：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>document</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span>提取字段：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>- 合同编号 (contract_no)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span>- 签约日期 (sign_date)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span>- 甲方名称 (party_a)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span>- 乙方名称 (party_b)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span>- 合同金额 (amount)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span>- 付款方式 (payment_terms)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span>- 服务期限 (service_period)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span>- 违约责任 (liability)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span>只返回 JSON，不要其他内容。</code></pre></div></div></pre>
<h2 id="智能体agent工作流" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#智能体agent工作流" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">智能体（Agent）工作流</a></h2>
<h3 id="react-模式实现" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#react-模式实现" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">ReAct 模式实现</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">ReAct（Reasoning + Acting）让 AI 能够思考并调用工具：</p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>agents </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> AgentExecutor</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> create_react_agent
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>prompts </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> PromptTemplate
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>tools </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> DuckDuckGoSearchRun
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 定义工具</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>tools </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>    Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>        name</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;搜索&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>        func</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>DuckDuckGoSearchRun</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>        description</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用于搜索实时信息&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>        name</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;计算器&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>        func</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(301, 63%, 40%)">lambda</span><span> x</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">eval</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>x</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>        description</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用于数学计算&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>    Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span><span>        name</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;数据库查询&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span><span>        func</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>query_database</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span>        description</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用于查询企业数据库&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">22</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">23</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">24</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># ReAct Prompt</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">25</span><span>template </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)">&quot;&quot;&quot;尽可能回答以下问题。你可以使用以下工具：
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">26</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">27</span>{tools}
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">28</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">29</span>请使用以下格式：
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">30</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">31</span>问题：你需要回答的问题
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">32</span>思考：你应该如何思考
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">33</span>行动：要采取的行动（必须是以下工具之一：{tool_names}）
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">34</span>行动输入：工具的输入
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">35</span>观察：行动的结果
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">36</span>...（这个思考/行动/行动输入/观察可以重复N次）
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">37</span>思考：我现在知道最终答案
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">38</span>最终答案：问题的最终答案
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">39</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">40</span>开始！
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">41</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">42</span>问题：{input}
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">43</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)">思考：{agent_scratchpad}&quot;&quot;&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">44</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">45</span><span>prompt </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> PromptTemplate</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>from_template</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>template</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">46</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">47</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 创建 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">48</span><span>agent </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> create_react_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> tools</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">49</span><span>agent_executor </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> AgentExecutor</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>agent</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>tools</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">50</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">51</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 运行</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">52</span><span>result </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> agent_executor</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>invoke</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">53</span><span>    </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;input&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;帮我查一下今天北京的天气，然后计算一下如果温度是25度，华氏度是多少？&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">54</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span></code></pre></div></div></pre>
<h3 id="多-agent-协作系统" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#多-agent-协作系统" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">多 Agent 协作系统</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>agents </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> initialize_agent
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>schema </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> SystemMessage
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 研究员 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>researcher </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> initialize_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>    tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>search_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> arxiv_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>    llm</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>    agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>OPENAI_FUNCTIONS</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>    system_message</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>SystemMessage</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>content</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是研究员，负责收集和整理信息。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>    verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 写手 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>writer </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> initialize_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>    tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>doc_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>    llm</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>    agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>OPENAI_FUNCTIONS</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span><span>    system_message</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>SystemMessage</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>content</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是专业写手，负责撰写高质量文章。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span><span>    verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">22</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 编辑 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">23</span><span>editor </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> initialize_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">24</span><span>    tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>grammar_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">25</span><span>    llm</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">26</span><span>    agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>OPENAI_FUNCTIONS</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">27</span><span>    system_message</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>SystemMessage</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>content</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是资深编辑，负责审核和修改文章。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">28</span><span>    verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">29</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">30</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">31</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 协作流程</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">32</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">collaborative_workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>topic</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">33</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 1. 研究</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">34</span><span>    research </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> researcher</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;搜集关于&#x27;</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">topic</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&#x27;的最新资料和数据&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">35</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">36</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 2. 写作</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">37</span><span>    draft </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> writer</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;基于以下资料撰写文章：\n</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">research</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">38</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">39</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 3. 编辑</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">40</span><span>    final </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> editor</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;审核并优化以下文章：\n</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">draft</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">41</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">42</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> final</span></code></pre></div></div></pre>
<h2 id="工作流编排最佳实践" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#工作流编排最佳实践" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">工作流编排最佳实践</a></h2>
<h3 id="1-错误处理" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#1-错误处理" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">1. 错误处理</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> main_task
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">fallback</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> fallback_model
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> gpt</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>3.5</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>turbo  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 降级模型</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">on_error</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> continue  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 继续执行后续节点</span></code></pre></div></div></pre>
<h3 id="2-并行处理" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#2-并行处理" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">2. 并行处理</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> parallel_analysis
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> parallel
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">branches</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> sentiment
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;分析情感：{{#input.text#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> keywords
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;提取关键词：{{#input.text#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> summary
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;生成摘要：{{#input.text#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">merge_strategy</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> all  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 等待所有分支完成</span></code></pre></div></div></pre>
<h3 id="3-人工审核节点" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#3-人工审核节点" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">3. 人工审核节点</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> human_review
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> human</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>in</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>the</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>loop
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">assignee</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;manager&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">timeout</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">3600</span><span>  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 1小时超时</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">fallback_action</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;reject&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> content
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#llm.output#}}&quot;</span></code></pre></div></div></pre>
<h3 id="4-缓存策略" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#4-缓存策略" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">4. 缓存策略</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 工作流级别缓存</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">@workflow</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">.</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">cache</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>ttl</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">3600</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">expensive_operation</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>input_data</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 耗时操作</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> result
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 节点级别缓存</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">-</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> cached_node
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>  </span><span class="token" style="color:hsl(119, 34%, 47%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>  cache</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>    enabled</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> true
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    key</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#input.topic#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>    ttl</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">7200</span></code></pre></div></div></pre>
<h2 id="性能优化" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#性能优化" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">性能优化</a></h2>
<h3 id="1-模型选择策略" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#1-模型选择策略" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">1. 模型选择策略</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 简单任务使用轻量级模型</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> task_complexity </span><span class="token" style="color:hsl(221, 87%, 60%)">&lt;</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.5</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>    model </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-3.5-turbo&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">else</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    model </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-4&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 动态温度设置</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> task_type </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;creative&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>    temperature </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.8</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">else</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>    temperature </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.2</span></code></pre></div></div></pre>
<h3 id="2-流式输出" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#2-流式输出" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">2. 流式输出</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># Dify API 流式调用</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> requests
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">stream_workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>query</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    response </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> requests</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>post</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>        </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;http://localhost/v1/workflows/run&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>        json</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>            </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;inputs&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;query&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> query</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>            </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;response_mode&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;streaming&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>            </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;user&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;user-123&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>        stream</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> line </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> response</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>iter_lines</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>        </span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> line</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>            </span><span class="token" style="color:hsl(301, 63%, 40%)">yield</span><span> json</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>loads</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>line</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 使用</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> chunk </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> stream_workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;帮我写一首诗&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">print</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>chunk</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>get</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;answer&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> end</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span></code></pre></div></div></pre>
<h3 id="3-批量处理" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#3-批量处理" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">3. 批量处理</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> concurrent</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>futures </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> ThreadPoolExecutor
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">batch_process</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>items</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> max_workers</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">5</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">with</span><span> ThreadPoolExecutor</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>max_workers</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>max_workers</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(301, 63%, 40%)">as</span><span> executor</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>        futures </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>            executor</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>submit</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> item</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>            </span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> item </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> items
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>        results </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>f</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>result</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> f </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> futures</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> results</span></code></pre></div></div></pre>
<h2 id="监控与调试" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#监控与调试" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">监控与调试</a></h2>
<h3 id="1-日志追踪" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#1-日志追踪" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">1. 日志追踪</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> logging
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>logging</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>basicConfig</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    level</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>logging</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>INFO</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token" style="color:hsl(119, 34%, 47%)">format</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>logger </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> logging</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>getLogger</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>__name__</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span></span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">@workflow</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">.</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">trace</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">my_node</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    logger</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>info</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;Processing inputs: </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">inputs</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>    result </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> process</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>    logger</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>info</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;Generated output: </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> result</span></code></pre></div></div></pre>
<h3 id="2-可视化调试" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#2-可视化调试" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">2. 可视化调试</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">Dify 和 LangFlow 都提供可视化调试功能：</p>
<ul class="my-6 space-y-2 list-disc list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">节点状态查看</strong>: 每个节点的输入输出</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">执行时间分析</strong>: 识别性能瓶颈</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">变量追踪</strong>: 查看数据流变化</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">重试运行</strong>: 从失败节点重新执行</li>
</ul>
<h2 id="总结" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#总结" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">总结</a></h2>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">AI 工作流是实现业务自动化的有效方式，通过可视化的编排工具，非技术人员也能构建强大的 AI 应用。关键要点：</p>
<ol class="my-6 space-y-2 list-decimal list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">模块化设计</strong>: 将复杂流程拆分为独立节点</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">错误处理</strong>: 设计降级策略和重试机制</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">性能优化</strong>: 合理选择模型，使用缓存和并行</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">持续迭代</strong>: 基于反馈不断优化提示词和流程</li>
</ol>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">如需进一步支持，请联系我们：</p>
<ul class="my-6 space-y-2 list-disc list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">邮箱：<a href="mailto:c@m9ai.work" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">c@m9ai.work</a></li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">官网：<a href="https://m9ai.work" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline" target="_blank" rel="noopener noreferrer">https://m9ai.work</a></li>
</ul></div></article><div class="mt-8 flex items-center justify-between pt-8 border-t border-slate-200 dark:border-slate-700" style="opacity:0"><a class="flex items-center gap-2 text-slate-500 hover:text-indigo-600 transition-colors" href="/zh/docs/"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><span>返回文档列表</span></a></div></main><aside class="hidden lg:block lg:col-span-2"><div class="sticky top-24"></div></aside></div></div></div><!--$--><!--/$--></main><footer class="relative bg-slate-900 dark:bg-black text-slate-300 overflow-hidden"><div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"></div><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="py-16 lg:py-20"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 lg:gap-8"><div class="lg:col-span-2"><a class="inline-flex items-center gap-3 mb-6 group" href="/zh/"><div class="relative w-10 h-10 rounded-xl overflow-hidden shadow-lg group-hover:shadow-glow transition-shadow"><img alt="Logo" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/favicon.jpg"/></div><span class="text-xl font-bold text-white">水杉智境</span></a><p class="text-slate-400 text-sm leading-relaxed mb-6 max-w-sm">企业级AI解决方案提供商，专注于大模型部署、应用开发和智能体定制</p><div class="flex items-center gap-3"><div class="relative"><button class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 hover:bg-primary text-slate-400 hover:text-white transition-all" aria-label="微信公众号"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.49.49 0 0 1-.011-.175.49.49 0 0 1 .189-.38C23.063 18.369 24 16.672 24 14.783c0-3.354-3.16-6.007-7.062-5.925zm-2.92 2.691c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.97-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z"></path></svg></button></div><div class="relative"><button class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 hover:bg-primary text-slate-400 hover:text-white transition-all" aria-label="微信视频号"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></svg></button></div><a target="_blank" rel="noopener noreferrer" class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 hover:bg-primary text-slate-400 hover:text-white transition-all" aria-label="Email" href="mailto:c@m9ai.work"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"></path></svg></a></div></div><div><h3 class="text-white font-semibold mb-4">服务</h3><ul class="space-y-3"><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/services/model-deployment/">Model Deployment</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/services/model-application/">App Development</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/services/agent-development/">AI Agents</a></li></ul></div><div><h3 class="text-white font-semibold mb-4">工作室</h3><ul class="space-y-3"><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/contact/">联系我们</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/docs/">文档</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/store/">商店</a></li></ul></div><div><h3 class="text-white font-semibold mb-4">法律</h3><ul class="space-y-3"><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/privacy-policy/">隐私政策</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/terms-of-service/">服务条款</a></li></ul></div></div></div><div class="py-6 border-t border-slate-800"><div class="flex flex-col md:flex-row items-center justify-between gap-4"><p class="text-slate-500 text-sm flex items-center gap-1">© <!-- -->2026<!-- --> <!-- -->水杉智境<!-- -->. <!-- -->用<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 text-accent inline"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"></path></svg>制作，保留所有权利。</p><button class="flex items-center gap-2 text-slate-400 hover:text-primary transition-colors text-sm group">返回顶部<span class="w-8 h-8 flex items-center justify-center rounded-lg bg-slate-800 group-hover:bg-primary group-hover:text-white transition-all"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"></path></svg></span></button></div></div></div></footer></div><script>
          if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
              navigator.serviceWorker.register('/m9ai-sw.js').then(function(registration) {
                console.log('ServiceWorker registration successful with scope: ', registration.scope);
              }).catch(function(err) {
                console.log('ServiceWorker registration failed: ', err);
              });
            });
          }
        </script><script src="/_next/static/chunks/webpack-cc328fc80d1d92f9.js" id="_R_" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n4:I[50543,[],\"\"]\n5:I[94707,[],\"\"]\n7:I[76813,[],\"OutletBoundary\"]\n9:I[29979,[],\"AsyncMetadataOutlet\"]\nb:I[76813,[],\"ViewportBoundary\"]\nd:I[76813,[],\"MetadataBoundary\"]\ne:\"$Sreact.suspense\"\n10:I[70069,[],\"\"]\n:HL[\"/_next/static/css/b2aa10a3cb761d2f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"n-OaHVlfcIetbxWrGFmpn\",\"p\":\"\",\"c\":[\"\",\"zh\",\"docs\",\"workflow\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"locale\",\"zh\",\"d\"],{\"children\":[\"docs\",{\"children\":[[\"slug\",\"workflow\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b2aa10a3cb761d2f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],\"$L2\"]}],{\"children\":[[\"locale\",\"zh\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,\"$L3\"]}],{\"children\":[\"docs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"workflow\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",[\"$\",\"$L9\",null,{\"promise\":\"$@a\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}],null],[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$e\",null,{\"fallback\":null,\"children\":\"$Lf\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:I[44963,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"4345\",\"static/chunks/app/not-found-ffca88c5e945e772.js\"],\"default\"]\n12:I[33084,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"ThemeProvider\"]\n14:I[86653,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n2:[\"$\",\"html\",null,{\"lang\":\"$undefined\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L11\",null,{}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]\n"])</script><script>self.__next_f.push([1,"3:[\"$\",\"html\",null,{\"lang\":\"zh\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1.0\"}],[\"$\",\"meta\",null,{\"name\":\"author\",\"content\":\"水杉智境工作室\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#000000\"}]]}],[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[[\"$\",\"$L12\",null,{\"children\":\"$L13\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n          if ('serviceWorker' in navigator) {\\n            window.addEventListener('load', function() {\\n              navigator.serviceWorker.register('/m9ai-sw.js').then(function(registration) {\\n                console.log('ServiceWorker registration successful with scope: ', registration.scope);\\n              }).catch(function(err) {\\n                console.log('ServiceWorker registration failed: ', err);\\n              });\\n            });\\n          }\\n        \"}}],[\"$\",\"$L14\",null,{}]]}]]}]\n"])</script><script>self.__next_f.push([1,"15:I[7765,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"8267\",\"static/chunks/8267-dd1b836d6e85c2aa.js\",\"4078\",\"static/chunks/4078-f6abe0d6c13465e4.js\",\"8143\",\"static/chunks/app/%5Blocale%5D/docs/%5Bslug%5D/page-1401b27bc56f3599.js\"],\"default\"]\n16:T2eab,"])</script><script>self.__next_f.push([1,"\n# AI 工作流搭建实战\n\n## 概述\n\nAI 工作流（AI Workflow）是将大语言模型与业务流程相结合的自动化系统。通过可视化的流程编排工具，无需编写代码即可构建复杂的 AI 应用。\n\n## 常见工作流类型\n\n| 类型 | 应用场景 | 典型工具 |\n|------|----------|----------|\n| 内容生成 | 文章写作、营销文案 | Dify、Coze |\n| 数据处理 | 文档分析、信息提取 | LangFlow、Flowise |\n| 客服自动化 | 智能问答、工单处理 | Dify、FastGPT |\n| 代码辅助 | 代码生成、Code Review | Continue、Cursor |\n\n## Dify 快速入门\n\n### 环境部署\n\n**Docker 部署（推荐）**\n\n```bash\n# 克隆仓库\ngit clone https://github.com/langgenius/dify.git\ncd dify/docker\n\n# 启动服务\ndocker-compose up -d\n\n# 访问 http://localhost/install 完成初始化\n```\n\n**本地开发环境**\n\n```bash\n# 后端\ncd api\npoetry install\npoetry shell\nflask db upgrade\nflask run --host 0.0.0.0 --port 5001\n\n# 前端\ncd web\nnpm install\nnpm run dev\n```\n\n### 第一个工作流：智能客服\n\n#### 步骤 1: 创建应用\n\n1. 登录 Dify 控制台\n2. 点击「创建应用」→「工作流编排」\n3. 命名：智能客服助手\n\n#### 步骤 2: 设计流程\n\n```mermaid\nflowchart LR\n    A[\"开始节点\u003cbr/\u003e接收用户问题\"] --\u003e B[\"意图识别 (LLM)\u003cbr/\u003eLLM 判断问题类型\"]\n    B --\u003e C[\"条件分支 (IF/ELSE)\u003cbr/\u003e技术问题？产品咨询？投诉？\"]\n    C --\u003e D[\"知识检索 (RAG)\u003cbr/\u003e从知识库搜索相关内容\"]\n    D --\u003e E[\"答案生成 (LLM)\u003cbr/\u003eLLM 生成回复\"]\n    E --\u003e F[\"结束节点\u003cbr/\u003e输出最终回答\"]\n```\n\n#### 步骤 3: 配置节点\n\n**意图识别节点配置：**\n\n```json\n{\n  \"model\": \"gpt-4\",\n  \"temperature\": 0.3,\n  \"system_prompt\": \"你是一个客服意图识别专家。请分析用户问题，判断意图类型：\\n1. technical - 技术问题\\n2. product - 产品咨询\\n3. complaint - 投诉建议\\n4. other - 其他\\n\\n只输出意图类型，不要解释。\",\n  \"user_prompt\": \"用户问题：{{#start.user_input#}}\"\n}\n```\n\n**知识检索节点配置：**\n\n```json\n{\n  \"knowledge_base\": \"产品知识库\",\n  \"retrieval_mode\": \"semantic\",\n  \"top_k\": 3,\n  \"score_threshold\": 0.7\n}\n```\n\n**答案生成节点配置：**\n\n```json\n{\n  \"model\": \"gpt-4\",\n  \"temperature\": 0.7,\n  \"system_prompt\": \"你是专业客服助手。基于检索到的知识回答用户问题。如果知识不足，礼貌地告知用户需要转人工。\",\n  \"user_prompt\": \"用户问题：{{#start.user_input#}}\\n\\n相关知识：{{#retrieval.result#}}\"\n}\n```\n\n### 进阶工作流：内容生成流水线\n\n#### 场景描述\n\n自动生成一篇完整的公众号文章：选题 → 大纲 → 正文 → 配图建议 → 标题优化\n\n#### 流程设计\n\n```yaml\nworkflow:\n  name: 公众号文章生成器\n  \n  nodes:\n    - id: start\n      type: start\n      inputs:\n        - name: topic\n          type: text\n          label: 文章主题\n    \n    - id: research\n      type: http-request\n      config:\n        url: \"https://api.example.com/trending\"\n        method: GET\n        params:\n          keyword: \"{{#start.topic#}}\"\n      \n    - id: outline\n      type: llm\n      config:\n        model: claude-3-opus\n        prompt: |\n          基于主题「{{#start.topic#}}」和热点数据：\n          {{#research.result#}}\n          \n          生成文章大纲，包含：\n          1. 吸引人的标题（3个备选）\n          2. 文章结构（引言-正文-结论）\n          3. 每个部分的核心观点\n    \n    - id: content\n      type: llm\n      config:\n        model: gpt-4\n        prompt: |\n          根据大纲撰写完整文章：\n          {{#outline.result#}}\n          \n          要求：\n          - 字数：1500-2000字\n          - 风格：专业但易懂\n          - 包含具体案例和数据\n    \n    - id: image-suggestions\n      type: llm\n      config:\n        model: gpt-4-vision\n        prompt: |\n          为以下文章内容推荐配图：\n          {{#content.result#}}\n          \n          每张图需说明：\n          - 图片主题\n          - 构图建议\n          - 配色方案\n    \n    - id: title-optimize\n      type: llm\n      config:\n        model: claude-3-haiku\n        prompt: |\n          优化以下标题，生成10个爆款标题选项：\n          {{#outline.titles#}}\n          \n          优化方向：\n          - 数字法则\n          - 悬念设置\n          - 情感共鸣\n          - 实用性强调\n    \n    - id: end\n      type: end\n      outputs:\n        - name: article\n          value: \"{{#content.result#}}\"\n        - name: titles\n          value: \"{{#title-optimize.result#}}\"\n        - name: images\n          value: \"{{#image-suggestions.result#}}\"\n```\n\n## LangFlow 工作流搭建\n\n### 安装部署\n\n```bash\npip install langflow\n\n# 启动\nlangflow run\n\n# 访问 http://localhost:7860\n```\n\n### 搭建数据提取工作流\n\n**场景：** 从合同 PDF 中提取关键信息\n\n**组件清单：**\n\n1. **File** - 上传 PDF 文件\n2. **PDF Loader** - 解析文档内容\n3. **Split Text** - 文档分块\n4. **ChatOpenAI** - LLM 处理\n5. **Prompt** - 提取提示词\n6. **Output Parser** - JSON 格式化\n\n**Prompt 配置：**\n\n```json\n从以下合同内容中提取信息，以 JSON 格式返回：\n\n合同内容：\n{document}\n\n提取字段：\n- 合同编号 (contract_no)\n- 签约日期 (sign_date)\n- 甲方名称 (party_a)\n- 乙方名称 (party_b)\n- 合同金额 (amount)\n- 付款方式 (payment_terms)\n- 服务期限 (service_period)\n- 违约责任 (liability)\n\n只返回 JSON，不要其他内容。\n```\n\n## 智能体（Agent）工作流\n\n### ReAct 模式实现\n\nReAct（Reasoning + Acting）让 AI 能够思考并调用工具：\n\n```python\nfrom langchain.agents import Tool, AgentExecutor, create_react_agent\nfrom langchain.prompts import PromptTemplate\nfrom langchain.tools import DuckDuckGoSearchRun\n\n# 定义工具\ntools = [\n    Tool(\n        name=\"搜索\",\n        func=DuckDuckGoSearchRun().run,\n        description=\"用于搜索实时信息\"\n    ),\n    Tool(\n        name=\"计算器\",\n        func=lambda x: eval(x),\n        description=\"用于数学计算\"\n    ),\n    Tool(\n        name=\"数据库查询\",\n        func=query_database,\n        description=\"用于查询企业数据库\"\n    )\n]\n\n# ReAct Prompt\ntemplate = \"\"\"尽可能回答以下问题。你可以使用以下工具：\n\n{tools}\n\n请使用以下格式：\n\n问题：你需要回答的问题\n思考：你应该如何思考\n行动：要采取的行动（必须是以下工具之一：{tool_names}）\n行动输入：工具的输入\n观察：行动的结果\n...（这个思考/行动/行动输入/观察可以重复N次）\n思考：我现在知道最终答案\n最终答案：问题的最终答案\n\n开始！\n\n问题：{input}\n思考：{agent_scratchpad}\"\"\"\n\nprompt = PromptTemplate.from_template(template)\n\n# 创建 Agent\nagent = create_react_agent(llm, tools, prompt)\nagent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)\n\n# 运行\nresult = agent_executor.invoke({\n    \"input\": \"帮我查一下今天北京的天气，然后计算一下如果温度是25度，华氏度是多少？\"\n})\n```\n\n### 多 Agent 协作系统\n\n```python\nfrom langchain.agents import AgentType, initialize_agent\nfrom langchain.schema import SystemMessage\n\n# 研究员 Agent\nresearcher = initialize_agent(\n    tools=[search_tool, arxiv_tool],\n    llm=llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    system_message=SystemMessage(content=\"你是研究员，负责收集和整理信息。\"),\n    verbose=True\n)\n\n# 写手 Agent\nwriter = initialize_agent(\n    tools=[doc_tool],\n    llm=llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    system_message=SystemMessage(content=\"你是专业写手，负责撰写高质量文章。\"),\n    verbose=True\n)\n\n# 编辑 Agent\neditor = initialize_agent(\n    tools=[grammar_tool],\n    llm=llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    system_message=SystemMessage(content=\"你是资深编辑，负责审核和修改文章。\"),\n    verbose=True\n)\n\n# 协作流程\ndef collaborative_workflow(topic):\n    # 1. 研究\n    research = researcher.run(f\"搜集关于'{topic}'的最新资料和数据\")\n    \n    # 2. 写作\n    draft = writer.run(f\"基于以下资料撰写文章：\\n{research}\")\n    \n    # 3. 编辑\n    final = editor.run(f\"审核并优化以下文章：\\n{draft}\")\n    \n    return final\n```\n\n## 工作流编排最佳实践\n\n### 1. 错误处理\n\n```yaml\n- id: main_task\n  type: llm\n  fallback:\n    - id: fallback_model\n      type: llm\n      config:\n        model: gpt-3.5-turbo  # 降级模型\n  on_error: continue  # 继续执行后续节点\n```\n\n### 2. 并行处理\n\n```yaml\n- id: parallel_analysis\n  type: parallel\n  branches:\n    - id: sentiment\n      type: llm\n      config:\n        prompt: \"分析情感：{{#input.text#}}\"\n    - id: keywords\n      type: llm\n      config:\n        prompt: \"提取关键词：{{#input.text#}}\"\n    - id: summary\n      type: llm\n      config:\n        prompt: \"生成摘要：{{#input.text#}}\"\n  merge_strategy: all  # 等待所有分支完成\n```\n\n### 3. 人工审核节点\n\n```yaml\n- id: human_review\n  type: human-in-the-loop\n  config:\n    assignee: \"manager\"\n    timeout: 3600  # 1小时超时\n    fallback_action: \"reject\"\n  inputs:\n    - name: content\n      value: \"{{#llm.output#}}\"\n```\n\n### 4. 缓存策略\n\n```python\n# 工作流级别缓存\n@workflow.cache(ttl=3600)\ndef expensive_operation(input_data):\n    # 耗时操作\n    return result\n\n# 节点级别缓存\n- id: cached_node\n  type: llm\n  cache:\n    enabled: true\n    key: \"{{#input.topic#}}\"\n    ttl: 7200\n```\n\n## 性能优化\n\n### 1. 模型选择策略\n\n```python\n# 简单任务使用轻量级模型\nif task_complexity \u003c 0.5:\n    model = \"gpt-3.5-turbo\"\nelse:\n    model = \"gpt-4\"\n\n# 动态温度设置\nif task_type == \"creative\":\n    temperature = 0.8\nelse:\n    temperature = 0.2\n```\n\n### 2. 流式输出\n\n```python\n# Dify API 流式调用\nimport requests\n\ndef stream_workflow(query):\n    response = requests.post(\n        \"http://localhost/v1/workflows/run\",\n        json={\n            \"inputs\": {\"query\": query},\n            \"response_mode\": \"streaming\",\n            \"user\": \"user-123\"\n        },\n        stream=True\n    )\n    \n    for line in response.iter_lines():\n        if line:\n            yield json.loads(line)\n\n# 使用\nfor chunk in stream_workflow(\"帮我写一首诗\"):\n    print(chunk.get(\"answer\", \"\"), end=\"\")\n```\n\n### 3. 批量处理\n\n```python\nfrom concurrent.futures import ThreadPoolExecutor\n\ndef batch_process(items, workflow, max_workers=5):\n    with ThreadPoolExecutor(max_workers=max_workers) as executor:\n        futures = [\n            executor.submit(workflow.run, item)\n            for item in items\n        ]\n        results = [f.result() for f in futures]\n    return results\n```\n\n## 监控与调试\n\n### 1. 日志追踪\n\n```python\nimport logging\n\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\nlogger = logging.getLogger(__name__)\n\n@workflow.trace()\ndef my_node(inputs):\n    logger.info(f\"Processing inputs: {inputs}\")\n    result = process(inputs)\n    logger.info(f\"Generated output: {result}\")\n    return result\n```\n\n### 2. 可视化调试\n\nDify 和 LangFlow 都提供可视化调试功能：\n\n- **节点状态查看**: 每个节点的输入输出\n- **执行时间分析**: 识别性能瓶颈\n- **变量追踪**: 查看数据流变化\n- **重试运行**: 从失败节点重新执行\n\n## 总结\n\nAI 工作流是实现业务自动化的有效方式，通过可视化的编排工具，非技术人员也能构建强大的 AI 应用。关键要点：\n\n1. **模块化设计**: 将复杂流程拆分为独立节点\n2. **错误处理**: 设计降级策略和重试机制\n3. **性能优化**: 合理选择模型，使用缓存和并行\n4. **持续迭代**: 基于反馈不断优化提示词和流程\n\n如需进一步支持，请联系我们：\n- 邮箱：c@m9ai.work\n- 官网：https://m9ai.work\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"$L15\",null,{\"doc\":{\"slug\":\"workflow\",\"title\":\"AI 工作流搭建实战\",\"description\":\"使用可视化工具搭建自动化 AI 工作流，提升业务效率\",\"category\":\"进阶教程\",\"tags\":[\"工作流\",\"自动化\",\"Dify\",\"智能体\",\"业务流程\"],\"updatedAt\":\"2025-02-09\",\"content\":\"$16\"},\"allDocs\":[{\"slug\":\"api-integration\",\"title\":\"API 集成开发指南\",\"category\":\"开发指南\"},{\"slug\":\"api-reference\",\"title\":\"API 文档\",\"category\":\"技术文档\"},{\"slug\":\"faq\",\"title\":\"常见问题\",\"category\":\"帮助中心\"},{\"slug\":\"introduction\",\"title\":\"欢迎使用水杉智境工作室\",\"category\":\"入门指南\"},{\"slug\":\"knowledge-base\",\"title\":\"本地知识库搭建指南\",\"category\":\"进阶教程\"},{\"slug\":\"model-deployment\",\"title\":\"模型部署指南\",\"category\":\"技术文档\"},{\"slug\":\"privacy-policy-en\",\"title\":\"privacy-policy-en\",\"category\":\"其他\"},{\"slug\":\"privacy-policy\",\"title\":\"privacy-policy\",\"category\":\"其他\"},{\"slug\":\"prompt-engineering\",\"title\":\"提示词工程最佳实践\",\"category\":\"进阶教程\"},{\"slug\":\"terms-of-service-en\",\"title\":\"terms-of-service-en\",\"category\":\"其他\"},{\"slug\":\"terms-of-service\",\"title\":\"terms-of-service\",\"category\":\"其他\"},{\"slug\":\"workflow\",\"title\":\"AI 工作流搭建实战\",\"category\":\"进阶教程\"}]}]\n"])</script><script>self.__next_f.push([1,"17:I[3338,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"$L17\",null,{\"formats\":\"$undefined\",\"locale\":\"zh\",\"messages\":{\"meta\":{\"defaultTitle\":\"水杉智境工作室\",\"defaultDescription\":\"水杉智境工作室为客户提供大模型私有化部署、应用开发及智能体定制服务\",\"privacyPolicyTitle\":\"隐私政策\",\"privacyPolicyDescription\":\"本隐私政策详细说明我们如何收集、使用和保护您的个人信息。\",\"termsOfServiceTitle\":\"服务条款\",\"termsOfServiceDescription\":\"本服务条款详细说明您使用我们服务的权利和责任。\"},\"Contact\":{\"title\":\"联系我们\",\"about\":{\"title\":\"关于我们\",\"description\":\"水杉智境工作室（Metasequoia AI Studio）是一家专注于创新技术解决方案的团队，致力于为客户提供高质量的产品和服务。我们专注于 AGI 应用解决方案，帮助企业实现智能化、智能化转型。\"},\"founder\":{\"title\":\"创始人\",\"name\":\"张舰\",\"description\":\"水杉智境工作室的创始人，拥有多年的软件开发和团队管理经验，专注于 AI 技术应用和用户体验。曾参与多个大型项目的设计与开发，热衷于开源技术和创新解决方案。\",\"viewProfile\":\"查看个人主页\"},\"contact\":{\"title\":\"联系我们\",\"description\":\"如有任何问题或合作意向，请通过以下方式联系我们：\",\"emailLabel\":\"邮箱\",\"phoneLabel\":\"电话\",\"locationLabel\":\"地址\",\"wechatLabel\":\"微信\"}},\"title\":\"水杉智境工作室\",\"subtitle\":\"低成本智能体服务平台\",\"description\":\"为客户提供大模型私有化部署、应用开发及智能体定制服务\",\"learnMore\":\"了解更多 →\",\"form\":{\"nameLabel\":\"称呼\",\"namePlaceholder\":\"请输入您的称呼\",\"contactLabel\":\"联系方式\",\"contactPlaceholder\":\"电话或邮箱\",\"messageLabel\":\"备注\",\"messagePlaceholder\":\"请简要描述您的需求\",\"submitButton\":\"提交合作申请\"},\"home\":{\"title\":\"企业级AI解决方案\",\"description\":\"我们为各种规模的企业提供尖端AI解决方案。\",\"features\":{\"title\":\"核心功能\",\"items\":[{\"title\":\"定制AI模型\",\"description\":\"基于企业特定业务数据训练的专属大语言模型\"},{\"title\":\"无缝集成\",\"description\":\"将AI能力与现有系统和工作流程相连接\"},{\"title\":\"数据安全\",\"description\":\"企业级安全协议保护敏感信息\"},{\"title\":\"可扩展架构\",\"description\":\"随业务需求和用户规模增长解决方案\"}]},\"testimonials\":{\"title\":\"客户评价\",\"items\":[{\"quote\":\"AI解决方案彻底改变了我们的客户服务运营，将响应时间减少了60%\",\"author\":\"科技创新公司CTO\"},{\"quote\":\"他们个性化的AI开发方法帮助我们比预期更快地实现了业务目标\",\"author\":\"数字转型集团CEO\"}]}},\"services\":{\"meta\":{\"title\":\"AI服务 | 水杉智境工作室\",\"description\":\"提供大模型私有化部署、应用开发和智能体开发等企业级AI解决方案\"},\"pageTitle\":\"我们的服务\",\"sectionTitle\":\"我们的核心服务\",\"sectionDescription\":\"提供全方位的 AI 应用开发解决方案，满足不同行业客户需求\",\"sectionTag\":\"服务\",\"viewAllServices\":\"查看全部服务\",\"cta\":{\"consultExpert\":\"咨询专家\",\"readyForAIDescription\":\"准备好开启您的AI转型之旅了吗？我们的专家团队随时为您提供支持\",\"readyForAI\":\"准备好拥抱AI了吗\",\"consultSolution\":\"咨询解决方案\",\"learnMore\":\"了解更多\"},\"learnMore\":\"了解更多\",\"categories\":{\"aiService\":\"AI服务\"},\"sections\":{\"coreAdvantages\":\"核心优势\",\"scenarios\":\"应用场景\",\"technicalFeatures\":\"技术特征\",\"caseStudies\":\"客户案例\"},\"backToList\":\"返回服务列表\",\"model-deployment\":{\"title\":\"模型部署\",\"description\":\"在客户自有服务器环境中部署大语言模型，确保数据安全与隐私保护\",\"details\":\"提供主流大模型的本地化部署方案，保障数据安全与隐私，支持自定义微调与性能优化。\",\"coreAdvantages\":{\"supportAllModels\":{\"title\":\"支持主流大模型全覆盖\",\"description\":\"包含GPT系列、LLaMA、文心一言、讯飞星火等10+主流大模型的本地化适配\"},\"dataSecurity\":{\"title\":\"数据安全与隐私保护\",\"description\":\"模型部署在客户自有服务器，数据不出本地网络，满足合规要求\"},\"customization\":{\"title\":\"深度定制与微调\",\"description\":\"基于客户业务数据进行模型微调，提升特定场景下的响应质量\"},\"performanceOptimization\":{\"title\":\"性能优化与资源管理\",\"description\":\"针对不同硬件环境优化模型推理速度，降低显存占用\"}},\"scenarios\":{\"dataSensitiveIndustries\":{\"title\":\"数据敏感型行业\",\"description\":\"金融、医疗等对数据隐私要求高的行业本地化部署方案\"},\"localResponse\":{\"title\":\"低延迟本地响应\",\"description\":\"满足实时交互需求的本地化部署，响应速度提升90%\"}},\"technicalFeatures\":{\"toolchain\":{\"title\":\"一站式部署工具链\",\"description\":\"自动化部署脚本与监控面板，简化运维复杂度\"},\"hybridDeployment\":{\"title\":\"混合部署模式\",\"description\":\"支持本地+云端混合部署，平衡成本与性能\"}},\"cases\":[{\"title\":\"某国有银行智能客服系统\",\"description\":\"部署本地化大模型，处理日均10万+客户咨询，准确率达92%\"}]},\"model-application\":{\"title\":\"大模型应用开发\",\"description\":\"基于大语言模型构建企业级应用，实现智能客服、内容生成等场景\",\"details\":\"定制开发基于大模型的企业级应用，打通业务系统数据，实现智能化升级。\",\"coreAdvantages\":{\"multimodal\":{\"title\":\"多模态交互能力\",\"description\":\"融合文本、语音、图像的全方位交互体验\"},\"lowCode\":{\"title\":\"低代码快速开发\",\"description\":\"可视化配置平台，降低AI应用开发门槛\"},\"businessIntegration\":{\"title\":\"深度业务系统集成\",\"description\":\"与CRM、ERP等企业系统无缝对接，数据互通\"}},\"scenarios\":{\"intelligentInteraction\":{\"title\":\"智能交互系统\",\"description\":\"企业智能客服、语音助手等自然语言交互产品\"},\"contentCreation\":{\"title\":\"内容创作平台\",\"description\":\"自动化文案生成、智能排版与多平台发布\"},\"dataIntelligence\":{\"title\":\"数据智能分析\",\"description\":\"非结构化数据解析与智能报告生成\"}},\"technicalFeatures\":{\"apiManagement\":{\"title\":\"完善的API管理\",\"description\":\"标准化接口设计，支持高并发请求与流量控制\"},\"monitoring\":{\"title\":\"全链路监控\",\"description\":\"用户行为分析与模型性能监控，持续优化体验\"}},\"cases\":[{\"title\":\"在线教育智能答疑平台\",\"description\":\"为K12教育机构开发的AI辅导系统，覆盖85%常见学科问题\"}]},\"agent-development\":{\"title\":\"智能体开发\",\"description\":\"开发具备自主决策能力的AI智能体，自动化复杂业务流程\",\"details\":\"定制开发具备任务规划、工具使用和自主学习能力的AI智能体，赋能企业自动化。\",\"coreAdvantages\":{\"autonomousPlanning\":{\"title\":\"自主任务规划\",\"description\":\"基于目标拆解复杂任务，动态调整执行策略\"},\"toolIntegration\":{\"title\":\"多工具集成能力\",\"description\":\"连接企业内部系统与外部API，扩展智能体能力边界\"},\"memoryManagement\":{\"title\":\"长效记忆管理\",\"description\":\"上下文理解与长期记忆存储，支持连贯对话与任务跟踪\"}},\"scenarios\":{\"automation\":{\"title\":\"流程自动化\",\"description\":\"财务报销、合同审核等重复性工作自动化处理\"},\"complexProcess\":{\"title\":\"复杂业务流程\",\"description\":\"研发项目管理、市场分析等多步骤复杂任务处理\"}},\"technicalFeatures\":{\"decisionFramework\":{\"title\":\"强化学习决策框架\",\"description\":\"基于环境反馈持续优化决策模型\"},\"humanMachine\":{\"title\":\"人机协作机制\",\"description\":\"关键决策节点人工干预，确保任务准确性\"}},\"cases\":[{\"title\":\"电商智能运营助手\",\"description\":\"自动化商品上架、库存管理与营销活动策划，运营效率提升60%\"}]},\"education\":{\"title\":\"教育行业解决方案\",\"description\":\"AI辅助教学系统，个性化学习路径规划与智能答疑\"},\"finance\":{\"title\":\"金融风控系统\",\"description\":\"智能风险评估与欺诈检测，提升金融安全等级\"},\"healthcare\":{\"title\":\"医疗辅助诊断\",\"description\":\"医学影像分析与辅助诊断建议，提高诊断准确率\"}},\"navbar\":{\"logo\":\"水杉智境\",\"services\":\"服务\",\"docs\":\"文档\",\"store\":\"商店\",\"cta\":\"开始合作\",\"menu\":{\"home\":\"首页\",\"services\":\"服务\",\"cases\":\"案例\",\"partners\":\"合作伙伴\",\"contact\":\"联系我们\",\"store\":\"商店\",\"docs\":\"文档\"},\"language\":\"语言\",\"themeToggle\":\"切换主题\"},\"search\":{\"buttonLabel\":\"搜索\",\"placeholder\":\"搜索服务、文档、页面...\",\"loading\":\"加载搜索索引...\",\"results\":\"搜索结果\",\"noResults\":\"未找到相关结果\",\"tryDifferentKeywords\":\"请尝试其他关键词\",\"quickAccess\":\"快捷入口\",\"quickLinks\":{\"services\":\"服务\",\"docs\":\"文档\",\"store\":\"应用商店\",\"contact\":\"联系我们\"},\"proTip\":\"AI 智能搜索\",\"proTipContent\":\"支持模糊匹配和语义搜索，输入关键词即可快速找到相关内容\",\"navigate\":\"导航\",\"select\":\"选择\",\"poweredBy\":\"AI 驱动搜索\"},\"footer\":{\"logoAlt\":\"水杉智境工作室标志\",\"logoText\":\"水杉智境\",\"copyright\":\"© 2025 水杉智境工作室. 保留所有权利.\",\"privacyPolicy\":\"隐私政策\",\"termsOfService\":\"服务条款\",\"contactUs\":\"联系我们\",\"description\":\"企业级AI解决方案提供商，专注于大模型部署、应用开发和智能体定制\",\"services\":\"服务\",\"company\":\"工作室\",\"legal\":\"法律\",\"madeWith\":\"用\",\"allRightsReserved\":\"制作，保留所有权利。\",\"backToTop\":\"返回顶部\",\"links\":{\"privacy\":\"隐私政策\",\"terms\":\"服务条款\",\"sitemap\":\"网站地图\"},\"contact\":{\"email\":\"联系邮箱\",\"phone\":\"联系电话\"}},\"common\":{\"buttons\":{\"submit\":\"提交\",\"cancel\":\"取消\",\"save\":\"保存\",\"close\":\"关闭\",\"learnMore\":\"了解更多\"},\"errors\":{\"networkError\":\"网络错误，请稍后再试\",\"serverError\":\"服务器错误，请联系管理员\",\"notFound\":\"资源未找到\",\"permissionDenied\":\"权限被拒绝\"},\"notifications\":{\"info\":\"信息\",\"warning\":\"警告\",\"success\":\"成功\",\"error\":\"错误\",\"confirmDelete\":\"您确定要删除此项目吗？\"},\"validation\":{\"required\":\"此字段为必填项\",\"email\":\"请输入有效的邮箱地址\",\"minLength\":\"最小长度为{min}个字符\",\"maxLength\":\"最大长度为{max}个字符\",\"pattern\":\"请匹配要求的格式\",\"numeric\":\"请输入数字\",\"url\":\"请输入有效的URL\"},\"labels\":{\"search\":\"搜索\",\"filter\":\"筛选\",\"sort\":\"排序\",\"loading\":\"加载中...\",\"error\":\"出错了\",\"success\":\"操作成功\",\"confirm\":\"确认\"}},\"partners\":{\"sectionTag\":\"合作伙伴\",\"sectionTitle\":\"技术合作伙伴\",\"sectionDescription\":\"基于LangChain和FastAPI等开源框架开发\",\"learnMore\":\"了解更多\",\"joinPartners\":\"想要成为合作伙伴？\",\"contactUs\":\"联系我们\",\"companies\":{\"langchain\":{\"description\":\"领先的大语言模型应用开发框架\"},\"fastapi\":{\"description\":\"高性能API开发框架\"},\"dify\":{\"description\":\"低代码/零代码AI应用开发平台\"},\"nextjs\":{\"description\":\"SEO友好型全栈应用开发框架\"}}},\"cases\":{\"sectionTag\":\"成功案例\",\"sectionTitle\":\"案例研究\",\"sectionDescription\":\"探索我们使用大模型技术成功实施的项目\",\"viewDetails\":\"查看详情 →\",\"studies\":[{\"category\":\"企业服务\",\"title\":\"智能客服系统\",\"description\":\"基于大语言模型的智能客服解决方案，提升客户满意度30%\",\"challenge\":\"某大型电商企业面临客服人力成本高、响应慢、服务质量不稳定等问题\",\"solution\":\"部署私有化大模型客服系统，实现7×24小时智能应答，支持多轮对话和情感分析\",\"results\":[\"客户满意度提升30%\",\"人工客服工作量减少60%\",\"平均响应时间从5分钟降至10秒\",\"问题解决率提升至92%\"],\"technologies\":[\"GPT-4\",\"RAG\",\"情感分析\",\"知识图谱\"]},{\"category\":\"医疗健康\",\"title\":\"医疗数据分析平台\",\"description\":\"利用AI技术分析医疗数据，辅助医生诊断决策\",\"challenge\":\"三甲医院日均门诊量超万人，医生诊断压力大，病历书写耗时\",\"solution\":\"构建医疗AI助手，集成电子病历系统，提供诊断建议和治疗方案参考\",\"results\":[\"病历书写效率提升3倍\",\"诊断准确率提升15%\",\"医生日均接诊量增加25%\",\"患者等待时间缩短40%\"],\"technologies\":[\"医学NLP\",\"知识图谱\",\"多模态分析\",\"隐私计算\"]},{\"category\":\"金融科技\",\"title\":\"金融风控系统\",\"description\":\"实时监控交易风险，识别异常行为准确率达到98%\",\"challenge\":\"某银行信用卡欺诈损失严重，传统规则引擎误报率高\",\"solution\":\"基于大模型的智能风控系统，实时分析交易行为，动态调整风控策略\",\"results\":[\"欺诈识别准确率达98%\",\"误报率降低70%\",\"风险响应时间缩短至毫秒级\",\"年度欺诈损失减少8000万\"],\"technologies\":[\"时序分析\",\"图神经网络\",\"异常检测\",\"联邦学习\"]},{\"category\":\"在线教育\",\"title\":\"教育内容生成工具\",\"description\":\"自动生成个性化学习内容，适配不同学习风格\",\"challenge\":\"教育培训机构内容生产慢，无法满足个性化教学需求\",\"solution\":\"AI教学助手，一键生成课件、习题、讲解视频脚本，支持多难度层级\",\"results\":[\"内容生产效率提升10倍\",\"课程开发周期从2周缩短至2天\",\"学生完课率提升35%\",\"教师备课时间节省50%\"],\"technologies\":[\"内容生成\",\"个性化推荐\",\"知识追踪\",\"自动评估\"]},{\"category\":\"建筑设计\",\"title\":\"AI辅助建筑设计平台\",\"description\":\"智能化生成设计方案，优化建筑能耗与空间布局\",\"challenge\":\"某建筑设计院项目周期长，方案修改频繁，能耗优化依赖经验\",\"solution\":\"AI建筑设计助手，根据需求自动生成多方案比选，实时计算能耗指标\",\"results\":[\"方案设计周期缩短50%\",\"建筑能耗平均降低20%\",\"客户方案满意度提升45%\",\"设计变更次数减少60%\"],\"technologies\":[\"生成式设计\",\"BIM集成\",\"能耗模拟\",\"空间优化\"]},{\"category\":\"智能制造\",\"title\":\"工业质检智能体\",\"description\":\"AI视觉检测系统，实现生产缺陷实时识别与预警\",\"challenge\":\"汽车零部件厂人工质检效率低，漏检率高，质量追溯困难\",\"solution\":\"部署AI视觉质检系统，多工位实时检测，自动分类缺陷类型\",\"results\":[\"质检效率提升8倍\",\"漏检率从3%降至0.1%\",\"产线停机时间减少40%\",\"质量追溯时间从小时级降至秒级\"],\"technologies\":[\"计算机视觉\",\"边缘计算\",\"数字孪生\",\"预测性维护\"]},{\"category\":\"律师事务所\",\"title\":\"法律文档智能审查系统\",\"description\":\"自动化合同审查与法律研究，提升律师工作效率\",\"challenge\":\"某大型律所合同审查工作量大，法律检索耗时，知识管理分散\",\"solution\":\"法律AI助手，智能审查合同条款，自动匹配相关判例和法规\",\"results\":[\"合同审查效率提升5倍\",\"法律检索时间减少80%\",\"合同风险识别准确率达95%\",\"初级律师培训周期缩短50%\"],\"technologies\":[\"法律NLP\",\"知识图谱\",\"智能检索\",\"文档分析\"]},{\"category\":\"会计师事务所\",\"title\":\"智能审计分析平台\",\"description\":\"AI驱动的财务数据分析，自动识别异常交易与风险\",\"challenge\":\"会计师事务所审计项目多，数据处理量大，人工抽样审计覆盖面有限\",\"solution\":\"智能审计系统，全量数据分析，自动标记异常，生成审计建议\",\"results\":[\"审计效率提升4倍\",\"异常交易识别率提升至96%\",\"审计覆盖率从抽样到全量\",\"审计报告生成时间缩短70%\"],\"technologies\":[\"财务NLP\",\"异常检测\",\"数据挖掘\",\"智能报告生成\"]}]},\"contact\":{\"title\":\"联系我们\",\"submit\":\"发送消息\"},\"hero\":{\"badge\":\"AI驱动的解决方案\",\"titleLine1\":\"用AI技术\",\"titleLine2\":\"赋能您的业务\",\"description\":\"为企业提供大模型私有化部署、应用开发及智能体定制服务，助力智能化转型\",\"cta\":{\"explore\":\"探索服务\",\"docs\":\"查看文档\"},\"stats\":{\"clients\":\"企业客户\",\"uptime\":\"服务可用性\",\"support\":\"专家支持\",\"efficiency\":\"效率提升\"}},\"theme\":{\"title\":\"主题\",\"light\":\"浅色\",\"dark\":\"深色\",\"system\":\"系统\"},\"cta\":{\"explore\":\"探索服务\",\"docs\":\"查看文档\"},\"consultation\":{\"sectionTag\":\"限时免费\",\"sectionTitle\":\"免费AI应用咨询顾问\",\"sectionDescription\":\"还在为如何AI化业务而困惑？我们的专家为您提供30分钟免费咨询，帮您梳理场景、评估可行性、规划实施路径\",\"badge\":\"限时免费开放中\",\"valueProps\":{\"free\":\"0元免费咨询\",\"response\":\"2小时内响应\",\"expert\":\"专业顾问1对1\",\"noObligation\":\"无任何附加条件\"},\"form\":{\"title\":\"立即预约免费咨询\",\"subtitle\":\"填写以下信息，让我们的顾问更精准地为您服务\",\"nameLabel\":\"您的姓名\",\"namePlaceholder\":\"请输入姓名\",\"companyLabel\":\"公司名称\",\"companyPlaceholder\":\"请输入公司名\",\"phoneLabel\":\"联系电话\",\"phonePlaceholder\":\"请输入手机号\",\"businessTypeLabel\":\"业务类型\",\"businessTypePlaceholder\":\"请选择业务类型\",\"painPointLabel\":\"目前遇到的痛点或需求\",\"painPointPlaceholder\":\"简单描述您的业务场景和希望解决的问题...\",\"submitButton\":\"立即预约免费咨询\",\"submitting\":\"提交中...\",\"privacyNotice\":\"提交即表示您同意我们的隐私政策，我们不会向第三方泄露您的信息\"},\"process\":{\"title\":\"服务流程\",\"step1\":{\"title\":\"提交需求\",\"desc\":\"填写基本信息，2小时内响应\"},\"step2\":{\"title\":\"深度沟通\",\"desc\":\"30分钟专业顾问1对1咨询\"},\"step3\":{\"title\":\"方案输出\",\"desc\":\"3个工作日内提供定制方案\"},\"step4\":{\"title\":\"自主决策\",\"desc\":\"零压力，您决定是否合作\"}},\"faq\":{\"title\":\"常见问题\",\"q1\":\"免费顾问服务包含哪些内容？\",\"a1\":\"我们的免费顾问服务包括：1）业务场景AI化可行性分析；2）技术方案建议书；3）投资回报率预估；4）实施路径规划。整个过程大约需要30-45分钟的深度沟通。\",\"q2\":\"咨询后是否必须购买服务？\",\"a2\":\"absolutely not。免费咨询无任何附加条件，您可以完全基于自身需求决定是否合作。我们的目标是帮助您理清AI应用思路，即使最终不选择我们，也希望对您有所帮助。\",\"q3\":\"顾问的专业背景如何？\",\"a3\":\"我们的顾问团队均来自知名科技企业，拥有5年以上AI项目落地经验，服务过金融、医疗、制造、零售等多个行业，累计帮助100+企业完成AI转型。\",\"q4\":\"多久可以收到回复？\",\"a4\":\"提交表单后，我们会在2个工作小时内与您取得联系，安排顾问对接。紧急需求可备注说明，我们将优先处理。\"},\"trust\":{\"title\":\"已服务 100+ 企业客户\",\"subtitle\":\"涵盖金融、医疗、制造、零售等多个行业\"},\"success\":{\"title\":\"预约成功！\",\"message\":\"我们的顾问将在2个工作小时内与您联系，请保持电话畅通\"}},\"collaboration\":{\"sectionTag\":\"联系我们\",\"sectionTitle\":\"一键合作\",\"sectionDescription\":\"填写表单或通过以下方式与我们取得联系，我们将尽快与您沟通\",\"form\":{\"nameLabel\":\"称呼\",\"namePlaceholder\":\"请输入您的称呼\",\"contactLabel\":\"联系方式\",\"contactPlaceholder\":\"电话或邮箱\",\"messageLabel\":\"备注\",\"messagePlaceholder\":\"请简要描述您的需求\",\"submitButton\":\"提交合作申请\",\"submitting\":\"提交中...\"},\"submitSuccess\":{\"title\":\"提交成功！\",\"message\":\"感谢您的咨询，我们的服务顾问将在1-2个工作日内与您联系\"},\"sendAnother\":\"发送另一条消息\",\"toast\":{\"success\":\"提交成功！\"},\"contact\":{\"wechat\":\"扫码加微信\",\"scanQR\":\"扫描二维码添加微信\",\"email\":\"发送邮件\",\"responseTime\":\"我们将在1-2个工作日内回复您\"}},\"Store\":{\"title\":\"应用商店\",\"description\":\"探索我们开发的AI应用，提升您的工作效率和创造力\",\"searchPlaceholder\":\"搜索应用...\",\"types\":{\"all\":\"全部类型\",\"miniProgram\":\"小程序\",\"h5\":\"H5\",\"app\":\"App\"},\"categories\":{\"all\":\"全部分类\",\"tools\":\"工具\",\"creativity\":\"创意\",\"development\":\"开发\",\"business\":\"商务\"},\"noAppsFound\":\"未找到匹配的应用\",\"clearFilters\":\"清除筛选条件\",\"showingResults\":\"显示 {count} 个应用，共 {total} 个\",\"tryAdjustingFilters\":\"尝试调整搜索词或筛选条件\",\"meta\":{\"title\":\"应用商店 | 水杉智境工作室\",\"description\":\"探索我们开发的AI应用，提升您的工作效率和创造力\"}},\"Docs\":{\"loading\":\"加载文档中...\",\"meta\":{\"title\":\"文档中心 | 水杉智境工作室\",\"description\":\"水杉智境工作室的文档中心，提供产品介绍、使用指南和技术文档\"},\"errors\":{\"title\":\"错误\",\"loadFailed\":\"获取文档失败\",\"notFound\":\"文档未找到\"},\"search\":{\"placeholder\":\"搜索文档...\",\"noResults\":\"未找到匹配的文档\",\"tryDifferent\":\"尝试使用不同的关键词\"},\"categories\":{\"all\":\"全部\",\"gettingStarted\":\"入门\",\"technical\":\"技术文档\",\"help\":\"帮助\"}}},\"now\":\"$undefined\",\"timeZone\":\"UTC\",\"children\":\"$L18\"}]\n"])</script><script>self.__next_f.push([1,"19:I[25554,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n1a:I[821,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n18:[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-screen\",\"children\":[[\"$\",\"$L19\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-grow\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L1a\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"1b:I[82435,[],\"IconMark\"]\n"])</script><script>self.__next_f.push([1,"a:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"AI 工作流搭建实战 | 文档中心\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"使用可视化工具搭建自动化 AI 工作流，提升业务效率\"}],[\"$\",\"link\",\"2\",{\"rel\":\"canonical\",\"href\":\"/zh/docs/workflow\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:title\",\"content\":\"水杉智境工作室\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:description\",\"content\":\"为客户提供大模型私有化部署、应用开发及智能体定制服务\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:image\",\"content\":\"http://localhost:3000/favicon.jpg\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"水杉智境工作室\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"为客户提供大模型私有化部署、应用开发及智能体定制服务\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:image\",\"content\":\"http://localhost:3000/favicon.jpg\"}],[\"$\",\"link\",\"11\",{\"rel\":\"icon\",\"href\":\"/favicon.jpg\"}],[\"$\",\"$L1b\",\"12\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"f:\"$a:metadata\"\n"])</script></body></html>