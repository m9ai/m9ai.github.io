<!DOCTYPE html><!--n_OaHVlfcIetbxWrGFmpn--><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/b2aa10a3cb761d2f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-cc328fc80d1d92f9.js"/><script src="/_next/static/chunks/eecf3333-be88052a8c8f8697.js" async=""></script><script src="/_next/static/chunks/4752-58b380405a07aaf7.js" async=""></script><script src="/_next/static/chunks/main-app-b80276bf8fc0d295.js" async=""></script><script src="/_next/static/chunks/6752-90baefdcb051c3c1.js" async=""></script><script src="/_next/static/chunks/2346-8f59889a5170c5da.js" async=""></script><script src="/_next/static/chunks/app/not-found-ffca88c5e945e772.js" async=""></script><script src="/_next/static/chunks/1909-ac3fe94adcf1a95e.js" async=""></script><script src="/_next/static/chunks/1278-1b71cee32080193b.js" async=""></script><script src="/_next/static/chunks/1399-c867858dd6d3be69.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js" async=""></script><script src="/_next/static/chunks/8267-dd1b836d6e85c2aa.js" async=""></script><script src="/_next/static/chunks/4078-f6abe0d6c13465e4.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/docs/%5Bslug%5D/page-1401b27bc56f3599.js" async=""></script><meta name="author" content="Metasequoia AI Studio"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#000000"/><title>AI 工作流搭建实战 | 文档中心</title><meta name="description" content="使用可视化工具搭建自动化 AI 工作流，提升业务效率"/><link rel="canonical" href="/en/docs/workflow"/><meta property="og:title" content="Metasequoia Studio"/><meta property="og:description" content="Providing customers with large model privatization deployment, application development and intelligent agent customization services"/><meta property="og:image" content="http://localhost:3000/favicon.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Metasequoia Studio"/><meta name="twitter:description" content="Providing customers with large model privatization deployment, application development and intelligent agent customization services"/><meta name="twitter:image" content="http://localhost:3000/favicon.jpg"/><link rel="icon" href="/favicon.jpg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="antialiased"><div hidden=""><!--$--><!--/$--></div><html lang="en"><head></head><body class="antialiased"><div class="flex flex-col min-h-screen"><header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-transparent"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16 lg:h-20"><a class="flex items-center gap-3 group" href="/zh/"><div class="relative w-9 h-9 rounded-xl overflow-hidden shadow-card group-hover:shadow-glow transition-shadow duration-300"><img alt="Logo" draggable="false" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/favicon.jpg"/></div><span class="text-lg font-bold gradient-text hidden sm:block">Metasequoia AI</span></a><nav class="hidden lg:flex items-center gap-1"><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/">Home</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/services/">Services</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/store/">Store</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/docs/">Docs</a><a class="relative px-4 py-2 text-sm font-medium transition-colors rounded-lg text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" href="/zh/contact/">Contact</a></nav><div class="flex items-center gap-2"><button class="hidden lg:flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all group"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg><span class="text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300">Search</span><kbd class="hidden xl:inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-sans bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 rounded border border-slate-200 dark:border-slate-700"><span>⌘</span><span>K</span></kbd></button><button class="lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg></button><div class="relative dropdown-container hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 transition-transform "><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg></button></div><div class="relative dropdown-container hidden sm:block"><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all"><span class="uppercase font-semibold text-xs">zh</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 transition-transform "><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg></button></div><a class="hidden lg:flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-600 text-white text-sm font-medium rounded-xl transition-all hover:shadow-glow btn-shine" href="/zh/contact/">Get Started</a><button class="lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div></div></div></header><main class="flex-grow"><div class="min-h-screen bg-slate-50 dark:bg-slate-900 pt-20"><header class="fixed top-16 lg:top-20 left-0 right-0 z-30 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-700"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-14"><a class="flex items-center gap-2 text-slate-500 hover:text-indigo-600 transition-colors group" href="/zh/docs/"><div class="w-8 h-8 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/30 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg></div><span class="text-sm font-medium">返回文档列表</span></a><nav class="hidden sm:flex items-center gap-2 text-sm text-slate-500"><a class="hover:text-indigo-600 transition-colors" href="/zh/">首页</a><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path></svg><a class="hover:text-indigo-600 transition-colors" href="/zh/docs/">文档中心</a><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path></svg><span class="text-slate-900 dark:text-white font-medium">进阶教程</span></nav></div></div></header><div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12"><div class="grid grid-cols-1 lg:grid-cols-12 gap-8"><aside class="hidden lg:block lg:col-span-3"><div class="sticky top-24 space-y-6"><div class="bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm"><h3 class="text-sm font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 text-indigo-500"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path></svg>文档导航</h3><nav class="space-y-4"><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">开发指南</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/api-integration/">API 集成开发指南</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">技术文档</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/api-reference/">API 文档</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/model-deployment/">模型部署指南</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">帮助中心</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/faq/">常见问题</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">入门指南</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/introduction/">欢迎使用水杉智境工作室</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">进阶教程</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/knowledge-base/">本地知识库搭建指南</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/prompt-engineering/">提示词工程最佳实践</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-medium" href="/zh/docs/workflow/">AI 工作流搭建实战</a></li></ul></div><div><h4 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2">其他</h4><ul class="space-y-1"><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/privacy-policy-en/">privacy-policy-en</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/privacy-policy/">privacy-policy</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/terms-of-service-en/">terms-of-service-en</a></li><li><a class="block px-3 py-2 rounded-lg text-sm transition-colors text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700" href="/zh/docs/terms-of-service/">terms-of-service</a></li></ul></div></nav></div></div></aside><main class="lg:col-span-7"><div class="mb-8" style="opacity:0;transform:translateY(20px)"><div class="flex items-center gap-3 mb-6"><span class="inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-sm font-medium"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"></path></svg>进阶教程</span><span class="flex items-center gap-1.5 text-sm text-slate-500 dark:text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg>更新于 <!-- -->2025-02-09</span></div><h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight">AI 工作流搭建实战</h1><p class="text-lg text-slate-600 dark:text-slate-400 leading-relaxed">使用可视化工具搭建自动化 AI 工作流，提升业务效率</p><div class="flex items-center gap-2 mt-4"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 text-slate-400"><path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z"></path></svg><div class="flex flex-wrap gap-2"><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">工作流</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">自动化</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">Dify</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">智能体</span><span class="px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-medium">业务流程</span></div></div></div><article class="bg-white dark:bg-slate-800 rounded-2xl p-8 lg:p-10 border border-slate-200 dark:border-slate-700 shadow-sm" style="opacity:0;transform:translateY(20px)"><div class="prose dark:prose-invert max-w-none "><h1 id="ai-工作流搭建实战" class="text-3xl font-bold mb-8 text-slate-900 dark:text-white scroll-mt-24"><a href="#ai-工作流搭建实战" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">AI 工作流搭建实战</a></h1>
<h2 id="概述" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#概述" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">概述</a></h2>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">AI 工作流（AI Workflow）是将大语言模型与业务流程相结合的自动化系统。通过可视化的流程编排工具，无需编写代码即可构建复杂的 AI 应用。</p>
<h2 id="常见工作流类型" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#常见工作流类型" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">常见工作流类型</a></h2>
<div class="overflow-x-auto my-6"><table class="w-full border-collapse"><thead class="bg-slate-50 dark:bg-slate-800"><tr><th class="border border-slate-200 dark:border-slate-700 px-4 py-2 text-left font-semibold">类型</th><th class="border border-slate-200 dark:border-slate-700 px-4 py-2 text-left font-semibold">应用场景</th><th class="border border-slate-200 dark:border-slate-700 px-4 py-2 text-left font-semibold">典型工具</th></tr></thead><tbody><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">内容生成</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">文章写作、营销文案</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">Dify、Coze</td></tr><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">数据处理</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">文档分析、信息提取</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">LangFlow、Flowise</td></tr><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">客服自动化</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">智能问答、工单处理</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">Dify、FastGPT</td></tr><tr><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">代码辅助</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">代码生成、Code Review</td><td class="border border-slate-200 dark:border-slate-700 px-4 py-2">Continue、Cursor</td></tr></tbody></table></div>
<h2 id="dify-快速入门" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#dify-快速入门" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">Dify 快速入门</a></h2>
<h3 id="环境部署" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#环境部署" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">环境部署</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">Docker 部署（推荐）</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">bash</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-bash" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 克隆仓库</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">git</span><span> clone https://github.com/langgenius/dify.git
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">cd</span><span> dify/docker
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 启动服务</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">docker-compose</span><span> up -d
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 访问 http://localhost/install 完成初始化</span></code></pre></div></div></pre>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">本地开发环境</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">bash</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-bash" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 后端</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">cd</span><span> api
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>poetry </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>poetry shell
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span>flask db upgrade
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>flask run --host </span><span class="token" style="color:hsl(35, 99%, 36%)">0.0</span><span>.0.0 --port </span><span class="token" style="color:hsl(35, 99%, 36%)">5001</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 前端</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">cd</span><span> web
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">npm</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">npm</span><span> run dev</span></code></pre></div></div></pre>
<h3 id="第一个工作流智能客服" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#第一个工作流智能客服" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">第一个工作流：智能客服</a></h3>
<h4 id="步骤-1-创建应用"><a href="#步骤-1-创建应用" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">步骤 1: 创建应用</a></h4>
<ol class="my-6 space-y-2 list-decimal list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">登录 Dify 控制台</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">点击「创建应用」→「工作流编排」</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">命名：智能客服助手</li>
</ol>
<h4 id="步骤-2-设计流程"><a href="#步骤-2-设计流程" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">步骤 2: 设计流程</a></h4>
<pre><div class="my-6 p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 flex justify-center overflow-x-auto"></div></pre>
<h4 id="步骤-3-配置节点"><a href="#步骤-3-配置节点" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">步骤 3: 配置节点</a></h4>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">意图识别节点配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;model&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-4&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;temperature&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.3</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;system_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是一个客服意图识别专家。请分析用户问题，判断意图类型：\n1. technical - 技术问题\n2. product - 产品咨询\n3. complaint - 投诉建议\n4. other - 其他\n\n只输出意图类型，不要解释。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;user_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用户问题：{{#start.user_input#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></div></pre>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">知识检索节点配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;knowledge_base&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;产品知识库&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;retrieval_mode&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;semantic&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;top_k&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">3</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;score_threshold&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.7</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></div></pre>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">答案生成节点配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;model&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-4&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;temperature&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.7</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;system_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是专业客服助手。基于检索到的知识回答用户问题。如果知识不足，礼貌地告知用户需要转人工。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(5, 74%, 59%)">&quot;user_prompt&quot;</span><span class="token" style="color:hsl(221, 87%, 60%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用户问题：{{#start.user_input#}}\n\n相关知识：{{#retrieval.result#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></div></pre>
<h3 id="进阶工作流内容生成流水线" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#进阶工作流内容生成流水线" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">进阶工作流：内容生成流水线</a></h3>
<h4 id="场景描述"><a href="#场景描述" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">场景描述</a></h4>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">自动生成一篇完整的公众号文章：选题 → 大纲 → 正文 → 配图建议 → 标题优化</p>
<h4 id="流程设计"><a href="#流程设计" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">流程设计</a></h4>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token key" style="color:hsl(35, 99%, 36%)">workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> 公众号文章生成器
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">nodes</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> start
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> start
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> topic
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> text
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">label</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> 文章主题
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> research
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> http</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>request
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">url</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;https://api.example.com/trending&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">method</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> GET
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">params</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">keyword</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#start.topic#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span>      
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> outline
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">22</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">23</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> claude</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>3</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>opus
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">24</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">25</span>          基于主题「{{#start.topic#}}」和热点数据：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">26</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#research.result#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">27</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">28</span>          生成文章大纲，包含：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">29</span>          1. 吸引人的标题（3个备选）
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">30</span><span>          2. 文章结构（引言</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>正文</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>结论）
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">31</span>          3. 每个部分的核心观点
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">32</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">33</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> content
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">34</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">35</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">36</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> gpt</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span class="token" style="color:hsl(35, 99%, 36%)">4</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">37</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">38</span>          根据大纲撰写完整文章：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">39</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#outline.result#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">40</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">41</span>          要求：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">42</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 字数：1500</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>2000字
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">43</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 风格：专业但易懂
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">44</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 包含具体案例和数据
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">45</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">46</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> image</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>suggestions
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">47</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">48</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">49</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> gpt</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>4</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>vision
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">50</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">51</span>          为以下文章内容推荐配图：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">52</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#content.result#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">53</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">54</span>          每张图需说明：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">55</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 图片主题
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">56</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 构图建议
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">57</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 配色方案
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">58</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">59</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> title</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>optimize
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">60</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">61</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">62</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> claude</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>3</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>haiku
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">63</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">
</span><span class="token scalar" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">64</span>          优化以下标题，生成10个爆款标题选项：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">65</span><span class="token scalar" style="color:hsl(119, 34%, 47%)">          {{#outline.titles#}}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">66</span>          
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">67</span>          优化方向：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">68</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 数字法则
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">69</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 悬念设置
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">70</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 情感共鸣
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">71</span><span>          </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> 实用性强调
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">72</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">73</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> end
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">74</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> end
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">75</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">outputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">76</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> article
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">77</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#content.result#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">78</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> titles
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">79</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#title-optimize.result#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">80</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> images
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">81</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#image-suggestions.result#}}&quot;</span></code></pre></div></div></pre>
<h2 id="langflow-工作流搭建" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#langflow-工作流搭建" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">LangFlow 工作流搭建</a></h2>
<h3 id="安装部署" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#安装部署" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">安装部署</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">bash</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-bash" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span>pip </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> langflow
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 启动</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>langflow run
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 访问 http://localhost:7860</span></code></pre></div></div></pre>
<h3 id="搭建数据提取工作流" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#搭建数据提取工作流" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">搭建数据提取工作流</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">场景：</strong> 从合同 PDF 中提取关键信息</p>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">组件清单：</strong></p>
<ol class="my-6 space-y-2 list-decimal list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">File</strong> - 上传 PDF 文件</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">PDF Loader</strong> - 解析文档内容</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">Split Text</strong> - 文档分块</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">ChatOpenAI</strong> - LLM 处理</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">Prompt</strong> - 提取提示词</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">Output Parser</strong> - JSON 格式化</li>
</ol>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4"><strong class="text-slate-900 dark:text-white font-semibold">Prompt 配置：</strong></p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">json</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-json" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span>从以下合同内容中提取信息，以 JSON 格式返回：
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>合同内容：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>document</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span>提取字段：
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>- 合同编号 (contract_no)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span>- 签约日期 (sign_date)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span>- 甲方名称 (party_a)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span>- 乙方名称 (party_b)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span>- 合同金额 (amount)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span>- 付款方式 (payment_terms)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span>- 服务期限 (service_period)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span>- 违约责任 (liability)
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span>只返回 JSON，不要其他内容。</code></pre></div></div></pre>
<h2 id="智能体agent工作流" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#智能体agent工作流" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">智能体（Agent）工作流</a></h2>
<h3 id="react-模式实现" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#react-模式实现" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">ReAct 模式实现</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">ReAct（Reasoning + Acting）让 AI 能够思考并调用工具：</p>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>agents </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> AgentExecutor</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> create_react_agent
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>prompts </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> PromptTemplate
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>tools </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> DuckDuckGoSearchRun
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 定义工具</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>tools </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>    Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>        name</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;搜索&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>        func</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>DuckDuckGoSearchRun</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>        description</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用于搜索实时信息&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>        name</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;计算器&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>        func</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(301, 63%, 40%)">lambda</span><span> x</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">eval</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>x</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>        description</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用于数学计算&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>    Tool</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span><span>        name</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;数据库查询&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span><span>        func</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>query_database</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span>        description</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;用于查询企业数据库&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">22</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">23</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">24</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># ReAct Prompt</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">25</span><span>template </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)">&quot;&quot;&quot;尽可能回答以下问题。你可以使用以下工具：
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">26</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">27</span>{tools}
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">28</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">29</span>请使用以下格式：
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">30</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">31</span>问题：你需要回答的问题
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">32</span>思考：你应该如何思考
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">33</span>行动：要采取的行动（必须是以下工具之一：{tool_names}）
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">34</span>行动输入：工具的输入
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">35</span>观察：行动的结果
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">36</span>...（这个思考/行动/行动输入/观察可以重复N次）
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">37</span>思考：我现在知道最终答案
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">38</span>最终答案：问题的最终答案
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">39</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">40</span>开始！
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">41</span>
</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">42</span>问题：{input}
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">43</span><span class="token triple-quoted-string" style="color:hsl(119, 34%, 47%)">思考：{agent_scratchpad}&quot;&quot;&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">44</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">45</span><span>prompt </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> PromptTemplate</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>from_template</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>template</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">46</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">47</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 创建 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">48</span><span>agent </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> create_react_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> tools</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">49</span><span>agent_executor </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> AgentExecutor</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>agent</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>tools</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">50</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">51</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 运行</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">52</span><span>result </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> agent_executor</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>invoke</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">53</span><span>    </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;input&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;帮我查一下今天北京的天气，然后计算一下如果温度是25度，华氏度是多少？&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">54</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span></code></pre></div></div></pre>
<h3 id="多-agent-协作系统" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#多-agent-协作系统" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">多 Agent 协作系统</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>agents </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> initialize_agent
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> langchain</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>schema </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> SystemMessage
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 研究员 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>researcher </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> initialize_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>    tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>search_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> arxiv_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>    llm</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>    agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>OPENAI_FUNCTIONS</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>    system_message</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>SystemMessage</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>content</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是研究员，负责收集和整理信息。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>    verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 写手 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>writer </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> initialize_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>    tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>doc_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>    llm</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>    agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>OPENAI_FUNCTIONS</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span><span>    system_message</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>SystemMessage</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>content</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是专业写手，负责撰写高质量文章。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span><span>    verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">22</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 编辑 Agent</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">23</span><span>editor </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> initialize_agent</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">24</span><span>    tools</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>grammar_tool</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">25</span><span>    llm</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>llm</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">26</span><span>    agent</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>AgentType</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>OPENAI_FUNCTIONS</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">27</span><span>    system_message</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>SystemMessage</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>content</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;你是资深编辑，负责审核和修改文章。&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">28</span><span>    verbose</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">29</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">30</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">31</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 协作流程</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">32</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">collaborative_workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>topic</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">33</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 1. 研究</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">34</span><span>    research </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> researcher</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;搜集关于&#x27;</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">topic</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&#x27;的最新资料和数据&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">35</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">36</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 2. 写作</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">37</span><span>    draft </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> writer</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;基于以下资料撰写文章：\n</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">research</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">38</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">39</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 3. 编辑</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">40</span><span>    final </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> editor</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;审核并优化以下文章：\n</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">draft</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">41</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">42</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> final</span></code></pre></div></div></pre>
<h2 id="工作流编排最佳实践" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#工作流编排最佳实践" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">工作流编排最佳实践</a></h2>
<h3 id="1-错误处理" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#1-错误处理" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">1. 错误处理</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> main_task
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">fallback</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> fallback_model
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">model</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> gpt</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>3.5</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>turbo  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 降级模型</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">on_error</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> continue  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 继续执行后续节点</span></code></pre></div></div></pre>
<h3 id="2-并行处理" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#2-并行处理" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">2. 并行处理</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> parallel_analysis
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> parallel
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">branches</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> sentiment
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;分析情感：{{#input.text#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> keywords
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;提取关键词：{{#input.text#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> summary
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">prompt</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;生成摘要：{{#input.text#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">merge_strategy</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> all  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 等待所有分支完成</span></code></pre></div></div></pre>
<h3 id="3-人工审核节点" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#3-人工审核节点" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">3. 人工审核节点</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">yaml</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-yaml" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> human_review
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> human</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>in</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>the</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>loop
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">config</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">assignee</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;manager&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">timeout</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">3600</span><span>  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 1小时超时</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">fallback_action</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;reject&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> content
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">value</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#llm.output#}}&quot;</span></code></pre></div></div></pre>
<h3 id="4-缓存策略" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#4-缓存策略" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">4. 缓存策略</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 工作流级别缓存</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">@workflow</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">.</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">cache</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>ttl</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">3600</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">expensive_operation</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>input_data</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 耗时操作</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> result
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 节点级别缓存</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(221, 87%, 60%)">-</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> cached_node
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>  </span><span class="token" style="color:hsl(119, 34%, 47%)">type</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> llm
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>  cache</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>    enabled</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> true
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    key</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;{{#input.topic#}}&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>    ttl</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">7200</span></code></pre></div></div></pre>
<h2 id="性能优化" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#性能优化" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">性能优化</a></h2>
<h3 id="1-模型选择策略" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#1-模型选择策略" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">1. 模型选择策略</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 简单任务使用轻量级模型</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> task_complexity </span><span class="token" style="color:hsl(221, 87%, 60%)">&lt;</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.5</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>    model </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-3.5-turbo&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">else</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    model </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;gpt-4&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 动态温度设置</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> task_type </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;creative&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>    temperature </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.8</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">else</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>    temperature </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0.2</span></code></pre></div></div></pre>
<h3 id="2-流式输出" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#2-流式输出" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">2. 流式输出</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># Dify API 流式调用</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> requests
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">stream_workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>query</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    response </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> requests</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>post</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>        </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;http://localhost/v1/workflows/run&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>        json</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>            </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;inputs&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;query&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> query</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>            </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;response_mode&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;streaming&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>            </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;user&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;user-123&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>        stream</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">True</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> line </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> response</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>iter_lines</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">16</span><span>        </span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> line</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">17</span><span>            </span><span class="token" style="color:hsl(301, 63%, 40%)">yield</span><span> json</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>loads</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>line</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">19</span><span></span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># 使用</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">20</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> chunk </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> stream_workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;帮我写一首诗&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">21</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">print</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>chunk</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>get</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;answer&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> end</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span></code></pre></div></div></pre>
<h3 id="3-批量处理" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#3-批量处理" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">3. 批量处理</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> concurrent</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>futures </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> ThreadPoolExecutor
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">batch_process</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>items</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> max_workers</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">5</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">with</span><span> ThreadPoolExecutor</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>max_workers</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>max_workers</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(301, 63%, 40%)">as</span><span> executor</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>        futures </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span>            executor</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>submit</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>workflow</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>run</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> item</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span><span>            </span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> item </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> items
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>        </span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span><span>        results </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>f</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>result</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(301, 63%, 40%)">for</span><span> f </span><span class="token" style="color:hsl(301, 63%, 40%)">in</span><span> futures</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> results</span></code></pre></div></div></pre>
<h2 id="监控与调试" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#监控与调试" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">监控与调试</a></h2>
<h3 id="1-日志追踪" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#1-日志追踪" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">1. 日志追踪</a></h3>
<pre><div class="relative group my-6 rounded-xl overflow-hidden border bg-slate-50 border-slate-200"><div class="flex items-center justify-between px-4 py-2 border-b bg-white border-slate-200"><span class="text-xs uppercase font-semibold tracking-wider text-slate-500">python</span><button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-all text-slate-500 hover:text-slate-700 hover:bg-slate-200" aria-label="复制代码"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg><span>复制</span></button></div><div class="overflow-x-auto"><pre style="background:transparent;color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.25rem;margin:0;overflow:auto;border-radius:0.3em;font-size:0.875rem"><code class="language-python" style="white-space:pre;background:transparent;color:hsl(230, 8%, 24%);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">1</span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> logging
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">3</span><span>logging</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>basicConfig</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">4</span><span>    level</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span>logging</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>INFO</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">5</span><span>    </span><span class="token" style="color:hsl(119, 34%, 47%)">format</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">6</span><span></span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">8</span><span>logger </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> logging</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>getLogger</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>__name__</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">10</span><span></span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">@workflow</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">.</span><span class="token decorator annotation" style="color:hsl(230, 8%, 24%)">trace</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">11</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">my_node</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">12</span><span>    logger</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>info</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;Processing inputs: </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">inputs</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">13</span><span>    result </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> process</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>inputs</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">14</span><span>    logger</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>info</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;Generated output: </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.5rem;padding-right:1rem;text-align:right;user-select:none;color:hsl(230, 4%, 64%);font-size:0.75rem;font-style:italic">15</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> result</span></code></pre></div></div></pre>
<h3 id="2-可视化调试" class="text-xl font-semibold mt-8 mb-3 text-slate-800 dark:text-slate-200 scroll-mt-24"><a href="#2-可视化调试" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">2. 可视化调试</a></h3>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">Dify 和 LangFlow 都提供可视化调试功能：</p>
<ul class="my-6 space-y-2 list-disc list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">节点状态查看</strong>: 每个节点的输入输出</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">执行时间分析</strong>: 识别性能瓶颈</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">变量追踪</strong>: 查看数据流变化</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">重试运行</strong>: 从失败节点重新执行</li>
</ul>
<h2 id="总结" class="text-2xl font-semibold mt-12 mb-4 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-3 scroll-mt-24"><a href="#总结" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">总结</a></h2>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">AI 工作流是实现业务自动化的有效方式，通过可视化的编排工具，非技术人员也能构建强大的 AI 应用。关键要点：</p>
<ol class="my-6 space-y-2 list-decimal list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">模块化设计</strong>: 将复杂流程拆分为独立节点</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">错误处理</strong>: 设计降级策略和重试机制</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">性能优化</strong>: 合理选择模型，使用缓存和并行</li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500"><strong class="text-slate-900 dark:text-white font-semibold">持续迭代</strong>: 基于反馈不断优化提示词和流程</li>
</ol>
<p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">如需进一步支持，请联系我们：</p>
<ul class="my-6 space-y-2 list-disc list-inside">
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">邮箱：<a href="mailto:c@m9ai.work" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline">c@m9ai.work</a></li>
<li class="text-slate-600 dark:text-slate-300 marker:text-indigo-500">官网：<a href="https://m9ai.work" class="text-indigo-600 dark:text-indigo-400 no-underline hover:underline" target="_blank" rel="noopener noreferrer">https://m9ai.work</a></li>
</ul></div></article><div class="mt-8 flex items-center justify-between pt-8 border-t border-slate-200 dark:border-slate-700" style="opacity:0"><a class="flex items-center gap-2 text-slate-500 hover:text-indigo-600 transition-colors" href="/zh/docs/"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><span>返回文档列表</span></a></div></main><aside class="hidden lg:block lg:col-span-2"><div class="sticky top-24"></div></aside></div></div></div><!--$--><!--/$--></main><footer class="relative bg-slate-900 dark:bg-black text-slate-300 overflow-hidden"><div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"></div><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="py-16 lg:py-20"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 lg:gap-8"><div class="lg:col-span-2"><a class="inline-flex items-center gap-3 mb-6 group" href="/zh/"><div class="relative w-10 h-10 rounded-xl overflow-hidden shadow-lg group-hover:shadow-glow transition-shadow"><img alt="Logo" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/favicon.jpg"/></div><span class="text-xl font-bold text-white">Metasequoia AI</span></a><p class="text-slate-400 text-sm leading-relaxed mb-6 max-w-sm">Enterprise-grade AI solutions provider specializing in model deployment, application development and intelligent agent customization</p><div class="flex items-center gap-3"><div class="relative"><button class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 hover:bg-primary text-slate-400 hover:text-white transition-all" aria-label="微信公众号"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.49.49 0 0 1-.011-.175.49.49 0 0 1 .189-.38C23.063 18.369 24 16.672 24 14.783c0-3.354-3.16-6.007-7.062-5.925zm-2.92 2.691c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.97-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z"></path></svg></button></div><div class="relative"><button class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 hover:bg-primary text-slate-400 hover:text-white transition-all" aria-label="微信视频号"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></svg></button></div><a target="_blank" rel="noopener noreferrer" class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 hover:bg-primary text-slate-400 hover:text-white transition-all" aria-label="Email" href="mailto:c@m9ai.work"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"></path></svg></a></div></div><div><h3 class="text-white font-semibold mb-4">Services</h3><ul class="space-y-3"><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/services/model-deployment/">Model Deployment</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/services/model-application/">App Development</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/services/agent-development/">AI Agents</a></li></ul></div><div><h3 class="text-white font-semibold mb-4">Studio</h3><ul class="space-y-3"><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/contact/">Contact Us</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/docs/">Docs</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/store/">Store</a></li></ul></div><div><h3 class="text-white font-semibold mb-4">Legal</h3><ul class="space-y-3"><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/privacy-policy/">Privacy Policy</a></li><li><a class="text-slate-400 hover:text-primary transition-colors text-sm" href="/zh/terms-of-service/">Terms of Service</a></li></ul></div></div></div><div class="py-6 border-t border-slate-800"><div class="flex flex-col md:flex-row items-center justify-between gap-4"><p class="text-slate-500 text-sm flex items-center gap-1">© <!-- -->2026<!-- --> <!-- -->Metasequoia AI<!-- -->. <!-- -->Made with<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4 text-accent inline"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"></path></svg>. All rights reserved.</p><button class="flex items-center gap-2 text-slate-400 hover:text-primary transition-colors text-sm group">Back to Top<span class="w-8 h-8 flex items-center justify-center rounded-lg bg-slate-800 group-hover:bg-primary group-hover:text-white transition-all"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"></path></svg></span></button></div></div></div></footer></div><script>
          if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
              navigator.serviceWorker.register('/m9ai-sw.js').then(function(registration) {
                console.log('ServiceWorker registration successful with scope: ', registration.scope);
              }).catch(function(err) {
                console.log('ServiceWorker registration failed: ', err);
              });
            });
          }
        </script><script src="/_next/static/chunks/webpack-cc328fc80d1d92f9.js" id="_R_" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n4:I[50543,[],\"\"]\n5:I[94707,[],\"\"]\n7:I[76813,[],\"OutletBoundary\"]\n9:I[29979,[],\"AsyncMetadataOutlet\"]\nb:I[76813,[],\"ViewportBoundary\"]\nd:I[76813,[],\"MetadataBoundary\"]\ne:\"$Sreact.suspense\"\n10:I[70069,[],\"\"]\n:HL[\"/_next/static/css/b2aa10a3cb761d2f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"n-OaHVlfcIetbxWrGFmpn\",\"p\":\"\",\"c\":[\"\",\"en\",\"docs\",\"workflow\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"locale\",\"en\",\"d\"],{\"children\":[\"docs\",{\"children\":[[\"slug\",\"workflow\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b2aa10a3cb761d2f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],\"$L2\"]}],{\"children\":[[\"locale\",\"en\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,\"$L3\"]}],{\"children\":[\"docs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"workflow\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",[\"$\",\"$L9\",null,{\"promise\":\"$@a\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}],null],[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$e\",null,{\"fallback\":null,\"children\":\"$Lf\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:I[44963,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"4345\",\"static/chunks/app/not-found-ffca88c5e945e772.js\"],\"default\"]\n12:I[33084,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"ThemeProvider\"]\n14:I[86653,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n2:[\"$\",\"html\",null,{\"lang\":\"$undefined\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L11\",null,{}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]\n"])</script><script>self.__next_f.push([1,"3:[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1.0\"}],[\"$\",\"meta\",null,{\"name\":\"author\",\"content\":\"Metasequoia AI Studio\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#000000\"}]]}],[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[[\"$\",\"$L12\",null,{\"children\":\"$L13\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n          if ('serviceWorker' in navigator) {\\n            window.addEventListener('load', function() {\\n              navigator.serviceWorker.register('/m9ai-sw.js').then(function(registration) {\\n                console.log('ServiceWorker registration successful with scope: ', registration.scope);\\n              }).catch(function(err) {\\n                console.log('ServiceWorker registration failed: ', err);\\n              });\\n            });\\n          }\\n        \"}}],[\"$\",\"$L14\",null,{}]]}]]}]\n"])</script><script>self.__next_f.push([1,"15:I[7765,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"8267\",\"static/chunks/8267-dd1b836d6e85c2aa.js\",\"4078\",\"static/chunks/4078-f6abe0d6c13465e4.js\",\"8143\",\"static/chunks/app/%5Blocale%5D/docs/%5Bslug%5D/page-1401b27bc56f3599.js\"],\"default\"]\n16:T2eab,"])</script><script>self.__next_f.push([1,"\n# AI 工作流搭建实战\n\n## 概述\n\nAI 工作流（AI Workflow）是将大语言模型与业务流程相结合的自动化系统。通过可视化的流程编排工具，无需编写代码即可构建复杂的 AI 应用。\n\n## 常见工作流类型\n\n| 类型 | 应用场景 | 典型工具 |\n|------|----------|----------|\n| 内容生成 | 文章写作、营销文案 | Dify、Coze |\n| 数据处理 | 文档分析、信息提取 | LangFlow、Flowise |\n| 客服自动化 | 智能问答、工单处理 | Dify、FastGPT |\n| 代码辅助 | 代码生成、Code Review | Continue、Cursor |\n\n## Dify 快速入门\n\n### 环境部署\n\n**Docker 部署（推荐）**\n\n```bash\n# 克隆仓库\ngit clone https://github.com/langgenius/dify.git\ncd dify/docker\n\n# 启动服务\ndocker-compose up -d\n\n# 访问 http://localhost/install 完成初始化\n```\n\n**本地开发环境**\n\n```bash\n# 后端\ncd api\npoetry install\npoetry shell\nflask db upgrade\nflask run --host 0.0.0.0 --port 5001\n\n# 前端\ncd web\nnpm install\nnpm run dev\n```\n\n### 第一个工作流：智能客服\n\n#### 步骤 1: 创建应用\n\n1. 登录 Dify 控制台\n2. 点击「创建应用」→「工作流编排」\n3. 命名：智能客服助手\n\n#### 步骤 2: 设计流程\n\n```mermaid\nflowchart LR\n    A[\"开始节点\u003cbr/\u003e接收用户问题\"] --\u003e B[\"意图识别 (LLM)\u003cbr/\u003eLLM 判断问题类型\"]\n    B --\u003e C[\"条件分支 (IF/ELSE)\u003cbr/\u003e技术问题？产品咨询？投诉？\"]\n    C --\u003e D[\"知识检索 (RAG)\u003cbr/\u003e从知识库搜索相关内容\"]\n    D --\u003e E[\"答案生成 (LLM)\u003cbr/\u003eLLM 生成回复\"]\n    E --\u003e F[\"结束节点\u003cbr/\u003e输出最终回答\"]\n```\n\n#### 步骤 3: 配置节点\n\n**意图识别节点配置：**\n\n```json\n{\n  \"model\": \"gpt-4\",\n  \"temperature\": 0.3,\n  \"system_prompt\": \"你是一个客服意图识别专家。请分析用户问题，判断意图类型：\\n1. technical - 技术问题\\n2. product - 产品咨询\\n3. complaint - 投诉建议\\n4. other - 其他\\n\\n只输出意图类型，不要解释。\",\n  \"user_prompt\": \"用户问题：{{#start.user_input#}}\"\n}\n```\n\n**知识检索节点配置：**\n\n```json\n{\n  \"knowledge_base\": \"产品知识库\",\n  \"retrieval_mode\": \"semantic\",\n  \"top_k\": 3,\n  \"score_threshold\": 0.7\n}\n```\n\n**答案生成节点配置：**\n\n```json\n{\n  \"model\": \"gpt-4\",\n  \"temperature\": 0.7,\n  \"system_prompt\": \"你是专业客服助手。基于检索到的知识回答用户问题。如果知识不足，礼貌地告知用户需要转人工。\",\n  \"user_prompt\": \"用户问题：{{#start.user_input#}}\\n\\n相关知识：{{#retrieval.result#}}\"\n}\n```\n\n### 进阶工作流：内容生成流水线\n\n#### 场景描述\n\n自动生成一篇完整的公众号文章：选题 → 大纲 → 正文 → 配图建议 → 标题优化\n\n#### 流程设计\n\n```yaml\nworkflow:\n  name: 公众号文章生成器\n  \n  nodes:\n    - id: start\n      type: start\n      inputs:\n        - name: topic\n          type: text\n          label: 文章主题\n    \n    - id: research\n      type: http-request\n      config:\n        url: \"https://api.example.com/trending\"\n        method: GET\n        params:\n          keyword: \"{{#start.topic#}}\"\n      \n    - id: outline\n      type: llm\n      config:\n        model: claude-3-opus\n        prompt: |\n          基于主题「{{#start.topic#}}」和热点数据：\n          {{#research.result#}}\n          \n          生成文章大纲，包含：\n          1. 吸引人的标题（3个备选）\n          2. 文章结构（引言-正文-结论）\n          3. 每个部分的核心观点\n    \n    - id: content\n      type: llm\n      config:\n        model: gpt-4\n        prompt: |\n          根据大纲撰写完整文章：\n          {{#outline.result#}}\n          \n          要求：\n          - 字数：1500-2000字\n          - 风格：专业但易懂\n          - 包含具体案例和数据\n    \n    - id: image-suggestions\n      type: llm\n      config:\n        model: gpt-4-vision\n        prompt: |\n          为以下文章内容推荐配图：\n          {{#content.result#}}\n          \n          每张图需说明：\n          - 图片主题\n          - 构图建议\n          - 配色方案\n    \n    - id: title-optimize\n      type: llm\n      config:\n        model: claude-3-haiku\n        prompt: |\n          优化以下标题，生成10个爆款标题选项：\n          {{#outline.titles#}}\n          \n          优化方向：\n          - 数字法则\n          - 悬念设置\n          - 情感共鸣\n          - 实用性强调\n    \n    - id: end\n      type: end\n      outputs:\n        - name: article\n          value: \"{{#content.result#}}\"\n        - name: titles\n          value: \"{{#title-optimize.result#}}\"\n        - name: images\n          value: \"{{#image-suggestions.result#}}\"\n```\n\n## LangFlow 工作流搭建\n\n### 安装部署\n\n```bash\npip install langflow\n\n# 启动\nlangflow run\n\n# 访问 http://localhost:7860\n```\n\n### 搭建数据提取工作流\n\n**场景：** 从合同 PDF 中提取关键信息\n\n**组件清单：**\n\n1. **File** - 上传 PDF 文件\n2. **PDF Loader** - 解析文档内容\n3. **Split Text** - 文档分块\n4. **ChatOpenAI** - LLM 处理\n5. **Prompt** - 提取提示词\n6. **Output Parser** - JSON 格式化\n\n**Prompt 配置：**\n\n```json\n从以下合同内容中提取信息，以 JSON 格式返回：\n\n合同内容：\n{document}\n\n提取字段：\n- 合同编号 (contract_no)\n- 签约日期 (sign_date)\n- 甲方名称 (party_a)\n- 乙方名称 (party_b)\n- 合同金额 (amount)\n- 付款方式 (payment_terms)\n- 服务期限 (service_period)\n- 违约责任 (liability)\n\n只返回 JSON，不要其他内容。\n```\n\n## 智能体（Agent）工作流\n\n### ReAct 模式实现\n\nReAct（Reasoning + Acting）让 AI 能够思考并调用工具：\n\n```python\nfrom langchain.agents import Tool, AgentExecutor, create_react_agent\nfrom langchain.prompts import PromptTemplate\nfrom langchain.tools import DuckDuckGoSearchRun\n\n# 定义工具\ntools = [\n    Tool(\n        name=\"搜索\",\n        func=DuckDuckGoSearchRun().run,\n        description=\"用于搜索实时信息\"\n    ),\n    Tool(\n        name=\"计算器\",\n        func=lambda x: eval(x),\n        description=\"用于数学计算\"\n    ),\n    Tool(\n        name=\"数据库查询\",\n        func=query_database,\n        description=\"用于查询企业数据库\"\n    )\n]\n\n# ReAct Prompt\ntemplate = \"\"\"尽可能回答以下问题。你可以使用以下工具：\n\n{tools}\n\n请使用以下格式：\n\n问题：你需要回答的问题\n思考：你应该如何思考\n行动：要采取的行动（必须是以下工具之一：{tool_names}）\n行动输入：工具的输入\n观察：行动的结果\n...（这个思考/行动/行动输入/观察可以重复N次）\n思考：我现在知道最终答案\n最终答案：问题的最终答案\n\n开始！\n\n问题：{input}\n思考：{agent_scratchpad}\"\"\"\n\nprompt = PromptTemplate.from_template(template)\n\n# 创建 Agent\nagent = create_react_agent(llm, tools, prompt)\nagent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)\n\n# 运行\nresult = agent_executor.invoke({\n    \"input\": \"帮我查一下今天北京的天气，然后计算一下如果温度是25度，华氏度是多少？\"\n})\n```\n\n### 多 Agent 协作系统\n\n```python\nfrom langchain.agents import AgentType, initialize_agent\nfrom langchain.schema import SystemMessage\n\n# 研究员 Agent\nresearcher = initialize_agent(\n    tools=[search_tool, arxiv_tool],\n    llm=llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    system_message=SystemMessage(content=\"你是研究员，负责收集和整理信息。\"),\n    verbose=True\n)\n\n# 写手 Agent\nwriter = initialize_agent(\n    tools=[doc_tool],\n    llm=llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    system_message=SystemMessage(content=\"你是专业写手，负责撰写高质量文章。\"),\n    verbose=True\n)\n\n# 编辑 Agent\neditor = initialize_agent(\n    tools=[grammar_tool],\n    llm=llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    system_message=SystemMessage(content=\"你是资深编辑，负责审核和修改文章。\"),\n    verbose=True\n)\n\n# 协作流程\ndef collaborative_workflow(topic):\n    # 1. 研究\n    research = researcher.run(f\"搜集关于'{topic}'的最新资料和数据\")\n    \n    # 2. 写作\n    draft = writer.run(f\"基于以下资料撰写文章：\\n{research}\")\n    \n    # 3. 编辑\n    final = editor.run(f\"审核并优化以下文章：\\n{draft}\")\n    \n    return final\n```\n\n## 工作流编排最佳实践\n\n### 1. 错误处理\n\n```yaml\n- id: main_task\n  type: llm\n  fallback:\n    - id: fallback_model\n      type: llm\n      config:\n        model: gpt-3.5-turbo  # 降级模型\n  on_error: continue  # 继续执行后续节点\n```\n\n### 2. 并行处理\n\n```yaml\n- id: parallel_analysis\n  type: parallel\n  branches:\n    - id: sentiment\n      type: llm\n      config:\n        prompt: \"分析情感：{{#input.text#}}\"\n    - id: keywords\n      type: llm\n      config:\n        prompt: \"提取关键词：{{#input.text#}}\"\n    - id: summary\n      type: llm\n      config:\n        prompt: \"生成摘要：{{#input.text#}}\"\n  merge_strategy: all  # 等待所有分支完成\n```\n\n### 3. 人工审核节点\n\n```yaml\n- id: human_review\n  type: human-in-the-loop\n  config:\n    assignee: \"manager\"\n    timeout: 3600  # 1小时超时\n    fallback_action: \"reject\"\n  inputs:\n    - name: content\n      value: \"{{#llm.output#}}\"\n```\n\n### 4. 缓存策略\n\n```python\n# 工作流级别缓存\n@workflow.cache(ttl=3600)\ndef expensive_operation(input_data):\n    # 耗时操作\n    return result\n\n# 节点级别缓存\n- id: cached_node\n  type: llm\n  cache:\n    enabled: true\n    key: \"{{#input.topic#}}\"\n    ttl: 7200\n```\n\n## 性能优化\n\n### 1. 模型选择策略\n\n```python\n# 简单任务使用轻量级模型\nif task_complexity \u003c 0.5:\n    model = \"gpt-3.5-turbo\"\nelse:\n    model = \"gpt-4\"\n\n# 动态温度设置\nif task_type == \"creative\":\n    temperature = 0.8\nelse:\n    temperature = 0.2\n```\n\n### 2. 流式输出\n\n```python\n# Dify API 流式调用\nimport requests\n\ndef stream_workflow(query):\n    response = requests.post(\n        \"http://localhost/v1/workflows/run\",\n        json={\n            \"inputs\": {\"query\": query},\n            \"response_mode\": \"streaming\",\n            \"user\": \"user-123\"\n        },\n        stream=True\n    )\n    \n    for line in response.iter_lines():\n        if line:\n            yield json.loads(line)\n\n# 使用\nfor chunk in stream_workflow(\"帮我写一首诗\"):\n    print(chunk.get(\"answer\", \"\"), end=\"\")\n```\n\n### 3. 批量处理\n\n```python\nfrom concurrent.futures import ThreadPoolExecutor\n\ndef batch_process(items, workflow, max_workers=5):\n    with ThreadPoolExecutor(max_workers=max_workers) as executor:\n        futures = [\n            executor.submit(workflow.run, item)\n            for item in items\n        ]\n        results = [f.result() for f in futures]\n    return results\n```\n\n## 监控与调试\n\n### 1. 日志追踪\n\n```python\nimport logging\n\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\nlogger = logging.getLogger(__name__)\n\n@workflow.trace()\ndef my_node(inputs):\n    logger.info(f\"Processing inputs: {inputs}\")\n    result = process(inputs)\n    logger.info(f\"Generated output: {result}\")\n    return result\n```\n\n### 2. 可视化调试\n\nDify 和 LangFlow 都提供可视化调试功能：\n\n- **节点状态查看**: 每个节点的输入输出\n- **执行时间分析**: 识别性能瓶颈\n- **变量追踪**: 查看数据流变化\n- **重试运行**: 从失败节点重新执行\n\n## 总结\n\nAI 工作流是实现业务自动化的有效方式，通过可视化的编排工具，非技术人员也能构建强大的 AI 应用。关键要点：\n\n1. **模块化设计**: 将复杂流程拆分为独立节点\n2. **错误处理**: 设计降级策略和重试机制\n3. **性能优化**: 合理选择模型，使用缓存和并行\n4. **持续迭代**: 基于反馈不断优化提示词和流程\n\n如需进一步支持，请联系我们：\n- 邮箱：c@m9ai.work\n- 官网：https://m9ai.work\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"$L15\",null,{\"doc\":{\"slug\":\"workflow\",\"title\":\"AI 工作流搭建实战\",\"description\":\"使用可视化工具搭建自动化 AI 工作流，提升业务效率\",\"category\":\"进阶教程\",\"tags\":[\"工作流\",\"自动化\",\"Dify\",\"智能体\",\"业务流程\"],\"updatedAt\":\"2025-02-09\",\"content\":\"$16\"},\"allDocs\":[{\"slug\":\"api-integration\",\"title\":\"API 集成开发指南\",\"category\":\"开发指南\"},{\"slug\":\"api-reference\",\"title\":\"API 文档\",\"category\":\"技术文档\"},{\"slug\":\"faq\",\"title\":\"常见问题\",\"category\":\"帮助中心\"},{\"slug\":\"introduction\",\"title\":\"欢迎使用水杉智境工作室\",\"category\":\"入门指南\"},{\"slug\":\"knowledge-base\",\"title\":\"本地知识库搭建指南\",\"category\":\"进阶教程\"},{\"slug\":\"model-deployment\",\"title\":\"模型部署指南\",\"category\":\"技术文档\"},{\"slug\":\"privacy-policy-en\",\"title\":\"privacy-policy-en\",\"category\":\"其他\"},{\"slug\":\"privacy-policy\",\"title\":\"privacy-policy\",\"category\":\"其他\"},{\"slug\":\"prompt-engineering\",\"title\":\"提示词工程最佳实践\",\"category\":\"进阶教程\"},{\"slug\":\"terms-of-service-en\",\"title\":\"terms-of-service-en\",\"category\":\"其他\"},{\"slug\":\"terms-of-service\",\"title\":\"terms-of-service\",\"category\":\"其他\"},{\"slug\":\"workflow\",\"title\":\"AI 工作流搭建实战\",\"category\":\"进阶教程\"}]}]\n"])</script><script>self.__next_f.push([1,"17:I[3338,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"$L17\",null,{\"formats\":\"$undefined\",\"locale\":\"zh\",\"messages\":{\"meta\":{\"defaultTitle\":\"Metasequoia AI Studio\",\"defaultDescription\":\"Metasequoia AI Studio provides private deployment of large models, application development and intelligent agent customization services\",\"privacyPolicyTitle\":\"Privacy Policy\",\"privacyPolicyDescription\":\"This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our website and services.\",\"termsOfServiceTitle\":\"Terms of Service\",\"termsOfServiceDescription\":\"These Terms of Service outline the rules and regulations governing the use of our website and services.\"},\"Contact\":{\"title\":\"Contact Us\",\"about\":{\"title\":\"About Us\",\"description\":\"Metasequoia AI Studio is a team focused on innovative technology solutions, dedicated to providing high-quality products and services to clients. We specialize in AGI application solutions, helping enterprises achieve digital and intelligent transformation.\"},\"founder\":{\"title\":\"Founder\",\"name\":\"Jian Zhang\",\"description\":\"Founder of Metasequoia AI Studio, with years of experience in software development and team management, specializing in AI technology applications and user experience. Has participated in the design and development of multiple large-scale projects, passionate about open-source technology and innovative solutions.\",\"viewProfile\":\"View Profile\"},\"contact\":{\"title\":\"Contact Us\",\"description\":\"If you have any questions or cooperation intentions, please contact us through the following methods:\",\"emailLabel\":\"Email\",\"phoneLabel\":\"Phone\",\"locationLabel\":\"Location\",\"wechatLabel\":\"WeChat\"}},\"title\":\"Metasequoia Studio\",\"subtitle\":\"Low-Cost AI Agent Service Platform\",\"description\":\"Providing customers with large model privatization deployment, application development and intelligent agent customization services\",\"learnMore\":\"Learn More →\",\"form\":\"Form\",\"home\":{\"title\":\"Welcome to Metasequoia Studio\",\"subtitle\":\"AI Solutions for Enterprise\",\"description\":\"We provide cutting-edge AI development services to help businesses transform digitally\",\"features\":{\"title\":\"Our Core Features\",\"items\":[{\"title\":\"Custom AI Models\",\"description\":\"Tailor-made large language models trained on your specific business data\"},{\"title\":\"Seamless Integration\",\"description\":\"Connect AI capabilities with your existing systems and workflows\"},{\"title\":\"Data Security\",\"description\":\"Enterprise-grade security protocols to protect your sensitive information\"},{\"title\":\"Scalable Architecture\",\"description\":\"Solutions that grow with your business needs and user base\"}]},\"testimonials\":{\"title\":\"What Our Clients Say\",\"items\":[{\"quote\":\"The AI solution transformed our customer service operations, reducing response times by 60%\",\"author\":\"CTO, Tech Innovations Inc.\"},{\"quote\":\"Their personalized approach to AI development helped us achieve our business goals faster than expected\",\"author\":\"CEO, Digital Transformation Group\"}]}},\"services\":{\"meta\":{\"title\":\"AI Services | Metasequoia Studio\",\"description\":\"Enterprise-grade AI solutions including private model deployment, application development and agent development\"},\"categories\":{\"aiService\":\"AI Service\"},\"pageTitle\":\"Our Services\",\"sectionTitle\":\"Our Core Services\",\"sectionDescription\":\"Providing comprehensive AI application development solutions to meet the needs of customers in different industries\",\"sectionTag\":\"Services\",\"viewAllServices\":\"View All Services\",\"cta\":{\"consultExpert\":\"Consult Expert\",\"readyForAIDescription\":\"Ready to start your AI transformation journey? Our expert team is ready to support you\",\"readyForAI\":\"Ready for AI\",\"consultSolution\":\"Consult Solution\",\"learnMore\":\"Learn More\"},\"learnMore\":\"Learn More\",\"sections\":{\"coreAdvantages\":\"Core Advantages\",\"scenarios\":\"Scenarios\",\"technicalFeatures\":\"Technical Features\",\"caseStudies\":\"Case Studies\"},\"backToList\":\"Back to Service List\",\"model-deployment\":{\"title\":\"Model Deployment\",\"description\":\"Deploy large language models in the customer's own server environment to ensure data security and privacy protection\",\"details\":\"Provide localized deployment solutions for mainstream large models, ensuring data security and privacy, supporting custom fine-tuning and performance optimization.\",\"coreAdvantages\":{\"supportAllModels\":{\"title\":\"Support for All Major Models\",\"description\":\"Local adaptation of 10+ mainstream large models including GPT series, LLaMA, Wenxin Yiyan, and iFlytek Spark\"},\"dataSecurity\":{\"title\":\"Data Security and Privacy Protection\",\"description\":\"Models deployed on customer's own servers with data never leaving local network\"},\"customization\":{\"title\":\"Deep Customization and Fine-tuning\",\"description\":\"Model fine-tuning based on customer business data to improve response quality\"},\"performanceOptimization\":{\"title\":\"Performance Optimization and Resource Management\",\"description\":\"Optimize model inference speed and reduce memory usage for different hardware\"}},\"scenarios\":{\"dataSensitiveIndustries\":{\"title\":\"Data-Sensitive Industries\",\"description\":\"Localized deployment solutions for finance, healthcare and other privacy-sensitive industries\"},\"localResponse\":{\"title\":\"Low-Latency Local Response\",\"description\":\"Local deployment meeting real-time interaction needs with 90% faster response\"}},\"technicalFeatures\":{\"toolchain\":{\"title\":\"One-Stop Deployment Toolchain\",\"description\":\"Automated deployment scripts and monitoring dashboard simplifying operations\"},\"hybridDeployment\":{\"title\":\"Hybrid Deployment Mode\",\"description\":\"Support local + cloud hybrid deployment balancing cost and performance\"}},\"cases\":[{\"title\":\"State-Owned Bank Intelligent Customer Service\",\"description\":\"Local model deployment handling 100,000+ daily customer inquiries with 92% accuracy\"}]},\"model-application\":{\"title\":\"LLM Application Development\",\"description\":\"Build enterprise-level applications based on large language models for intelligent customer service and content generation\",\"details\":\"Custom development of enterprise-level applications based on large models, integrating business system data for intelligent upgrading.\",\"coreAdvantages\":{\"multimodal\":{\"title\":\"Multimodal Interaction Capability\",\"description\":\"Comprehensive interaction experience integrating text, voice and images\"},\"lowCode\":{\"title\":\"Low-Code Rapid Development\",\"description\":\"Visual configuration platform reducing AI application development threshold\"},\"businessIntegration\":{\"title\":\"Deep Business System Integration\",\"description\":\"Seamless connection with CRM, ERP and other enterprise systems\"}},\"scenarios\":{\"intelligentInteraction\":{\"title\":\"Intelligent Interaction System\",\"description\":\"Enterprise intelligent customer service, voice assistants and other NLP interaction products\"},\"contentCreation\":{\"title\":\"Content Creation Platform\",\"description\":\"Automated copywriting generation, intelligent typesetting and multi-platform publishing\"},\"dataIntelligence\":{\"title\":\"Data Intelligence Analysis\",\"description\":\"Unstructured data parsing and intelligent report generation\"}},\"technicalFeatures\":{\"apiManagement\":{\"title\":\"Comprehensive API Management\",\"description\":\"Standardized interface design supporting high concurrent requests and traffic control\"},\"monitoring\":{\"title\":\"End-to-End Monitoring\",\"description\":\"User behavior analysis and model performance monitoring for continuous optimization\"}},\"cases\":[{\"title\":\"Online Education Intelligent Q\u0026A Platform\",\"description\":\"AI tutoring system for K12 education institutions covering 85% of common subject questions\"}]},\"agent-development\":{\"title\":\"AI Agent Development\",\"description\":\"Develop AI agents with autonomous decision-making capabilities to automate complex business processes\",\"details\":\"Custom development of AI agents with task planning, tool usage and autonomous learning capabilities to empower enterprise automation.\",\"coreAdvantages\":{\"autonomousPlanning\":{\"title\":\"Autonomous Task Planning\",\"description\":\"Decompose complex tasks based on goals and dynamically adjust execution strategies\"},\"toolIntegration\":{\"title\":\"Multi-Tool Integration\",\"description\":\"Connect internal enterprise systems and external APIs to expand agent capabilities\"},\"memoryManagement\":{\"title\":\"Long-Term Memory Management\",\"description\":\"Context understanding and long-term memory storage supporting coherent dialogue\"}},\"scenarios\":{\"automation\":{\"title\":\"Process Automation\",\"description\":\"Automated processing of repetitive tasks like expense reimbursement and contract review\"},\"complexProcess\":{\"title\":\"Complex Business Processes\",\"description\":\"Multi-step complex task processing for R\u0026D project management and market analysis\"}},\"technicalFeatures\":{\"decisionFramework\":{\"title\":\"Reinforcement Learning Decision Framework\",\"description\":\"Continuously optimize decision models based on environmental feedback\"},\"humanMachine\":{\"title\":\"Human-Machine Collaboration Mechanism\",\"description\":\"Human intervention at key decision nodes to ensure task accuracy\"}},\"cases\":[{\"title\":\"E-Commerce Intelligent Operations Assistant\",\"description\":\"Automated product listing, inventory management and marketing planning increasing efficiency by 60%\"}]},\"education\":{\"title\":\"Education Industry Solutions\",\"description\":\"AI-assisted teaching system with personalized learning path planning and intelligent Q\u0026A\"},\"finance\":{\"title\":\"Financial Risk Control System\",\"description\":\"Intelligent risk assessment and fraud detection to enhance financial security levels\"},\"healthcare\":{\"title\":\"Medical Auxiliary Diagnosis\",\"description\":\"Medical image analysis and auxiliary diagnosis suggestions to improve diagnostic accuracy\"}},\"navbar\":{\"logo\":\"Metasequoia AI\",\"services\":\"Services\",\"docs\":\"Docs\",\"store\":\"Store\",\"cta\":\"Get Started\",\"menu\":{\"home\":\"Home\",\"services\":\"Services\",\"cases\":\"Cases\",\"partners\":\"Partners\",\"contact\":\"Contact\",\"store\":\"Store\",\"docs\":\"Docs\"},\"language\":\"Language\",\"themeToggle\":\"Toggle Theme\"},\"search\":{\"buttonLabel\":\"Search\",\"placeholder\":\"Search services, docs, pages...\",\"loading\":\"Loading search index...\",\"results\":\"Search Results\",\"noResults\":\"No results found\",\"tryDifferentKeywords\":\"Try different keywords\",\"quickAccess\":\"Quick Access\",\"quickLinks\":{\"services\":\"Services\",\"docs\":\"Documentation\",\"store\":\"App Store\",\"contact\":\"Contact\"},\"proTip\":\"AI Smart Search\",\"proTipContent\":\"Supports fuzzy matching and semantic search, just type keywords to find relevant content quickly\",\"navigate\":\"Navigate\",\"select\":\"Select\",\"poweredBy\":\"AI-Powered Search\"},\"footer\":{\"logoAlt\":\"Metasequoia Studio Logo\",\"logoText\":\"Metasequoia AI\",\"copyright\":\"© 2025 Metasequoia Studio. All rights reserved.\",\"privacyPolicy\":\"Privacy Policy\",\"termsOfService\":\"Terms of Service\",\"contactUs\":\"Contact Us\",\"description\":\"Enterprise-grade AI solutions provider specializing in model deployment, application development and intelligent agent customization\",\"services\":\"Services\",\"company\":\"Studio\",\"legal\":\"Legal\",\"madeWith\":\"Made with\",\"allRightsReserved\":\". All rights reserved.\",\"backToTop\":\"Back to Top\",\"links\":{\"privacy\":\"Privacy Policy\",\"terms\":\"Terms of Service\",\"sitemap\":\"Sitemap\"},\"contact\":{\"email\":\"Contact Email\",\"phone\":\"Contact Phone\"}},\"common\":{\"buttons\":{\"submit\":\"Submit\",\"cancel\":\"Cancel\",\"save\":\"Save\",\"close\":\"Close\",\"learnMore\":\"Learn More\"},\"errors\":{\"networkError\":\"Network error, please try again later\",\"serverError\":\"Server error, please contact administrator\",\"notFound\":\"Resource not found\",\"permissionDenied\":\"Permission denied\"},\"notifications\":{\"info\":\"Information\",\"warning\":\"Warning\",\"success\":\"Success\",\"error\":\"Error\",\"confirmDelete\":\"Are you sure you want to delete this item?\"},\"validation\":{\"required\":\"This field is required\",\"email\":\"Please enter a valid email address\",\"minLength\":\"Minimum length is {min} characters\",\"maxLength\":\"Maximum length is {max} characters\",\"pattern\":\"Please match the required format\",\"numeric\":\"Please enter a number\",\"url\":\"Please enter a valid URL\"},\"labels\":{\"search\":\"Search\",\"filter\":\"Filter\",\"sort\":\"Sort\",\"loading\":\"Loading...\",\"error\":\"Error\",\"success\":\"Success\",\"confirm\":\"Confirm\"}},\"contact\":{\"title\":\"Contact Us\",\"submit\":\"Send Message\",\"form\":{\"nameLabel\":\"Name\",\"namePlaceholder\":\"Please enter your name\",\"contactLabel\":\"Contact Information\",\"contactPlaceholder\":\"Phone or email\",\"messageLabel\":\"Message\",\"messagePlaceholder\":\"Please briefly describe your needs\",\"submitButton\":\"Submit Collaboration Request\"}},\"hero\":{\"badge\":\"AI-Powered Solutions\",\"titleLine1\":\"Transform Your\",\"titleLine2\":\"Business with AI\",\"description\":\"Enterprise-grade AI solutions for model deployment, application development, and intelligent agent customization. Scale your business with cutting-edge technology.\",\"cta\":{\"explore\":\"Explore Services\",\"docs\":\"View Documentation\"},\"stats\":{\"clients\":\"Enterprise Clients\",\"uptime\":\"Uptime SLA\",\"support\":\"Expert Support\",\"efficiency\":\"Efficiency Gain\"}},\"theme\":{\"title\":\"Theme\",\"light\":\"Light\",\"dark\":\"Dark\",\"system\":\"System\"},\"cta\":{\"explore\":\"Explore Services\",\"docs\":\"View Documentation\"},\"consultation\":{\"sectionTag\":\"Limited Time Free\",\"sectionTitle\":\"Free AI Application Consultation\",\"sectionDescription\":\"Unsure how to AI-enable your business? Our experts offer a free 30-minute consultation to help you identify scenarios, assess feasibility, and plan implementation\",\"badge\":\"Now Open - Limited Time\",\"valueProps\":{\"free\":\"Free Consultation\",\"response\":\"Response within 2 hours\",\"expert\":\"1-on-1 Expert Advice\",\"noObligation\":\"No Obligations\"},\"form\":{\"title\":\"Book Your Free Consultation\",\"subtitle\":\"Fill in the information below so our consultants can serve you better\",\"nameLabel\":\"Your Name\",\"namePlaceholder\":\"Enter your name\",\"companyLabel\":\"Company Name\",\"companyPlaceholder\":\"Enter company name\",\"phoneLabel\":\"Phone Number\",\"phonePlaceholder\":\"Enter phone number\",\"businessTypeLabel\":\"Business Type\",\"businessTypePlaceholder\":\"Select business type\",\"painPointLabel\":\"Pain Points or Needs\",\"painPointPlaceholder\":\"Briefly describe your business scenario and the problems you want to solve...\",\"submitButton\":\"Book Free Consultation Now\",\"submitting\":\"Submitting...\",\"privacyNotice\":\"By submitting, you agree to our privacy policy. We will not share your information with third parties\"},\"process\":{\"title\":\"Service Process\",\"step1\":{\"title\":\"Submit Request\",\"desc\":\"Fill in basic info, response within 2 hours\"},\"step2\":{\"title\":\"Deep Dive\",\"desc\":\"30-minute 1-on-1 expert consultation\"},\"step3\":{\"title\":\"Solution Delivery\",\"desc\":\"Custom proposal within 3 business days\"},\"step4\":{\"title\":\"Your Decision\",\"desc\":\"Zero pressure, you decide whether to proceed\"}},\"faq\":{\"title\":\"Frequently Asked Questions\",\"q1\":\"What does the free consultation include?\",\"a1\":\"Our free consultation includes: 1) AI feasibility analysis for your business scenario; 2) Technical solution recommendations; 3) ROI estimation; 4) Implementation roadmap. The entire process takes about 30-45 minutes of in-depth discussion.\",\"q2\":\"Am I obligated to purchase services after the consultation?\",\"a2\":\"Absolutely not. The free consultation comes with no strings attached. You can decide whether to work with us based entirely on your own needs. Our goal is to help you clarify your AI application strategy—even if you don't choose us, we hope it's helpful.\",\"q3\":\"What is the background of your consultants?\",\"a3\":\"Our consultants come from well-known tech companies with 5+ years of AI project implementation experience, serving industries including finance, healthcare, manufacturing, and retail—helping 100+ companies complete AI transformation.\",\"q4\":\"How soon will I hear back?\",\"a4\":\"After submitting the form, we'll contact you within 2 business hours to arrange consultant matching. For urgent needs, please note in the remarks and we'll prioritize your request.\"},\"trust\":{\"title\":\"Trusted by 100+ Enterprise Clients\",\"subtitle\":\"Spanning finance, healthcare, manufacturing, retail and more\"},\"success\":{\"title\":\"Booking Successful!\",\"message\":\"Our consultant will contact you within 2 business hours. Please keep your phone available\"}},\"collaboration\":{\"sectionTag\":\"Get In Touch\",\"sectionTitle\":\"Collaborate Now\",\"sectionDescription\":\"Fill out the form or contact us through the following methods, and we will communicate with you as soon as possible\",\"form\":{\"nameLabel\":\"Name\",\"namePlaceholder\":\"Please enter your name\",\"contactLabel\":\"Contact Information\",\"contactPlaceholder\":\"Phone or email\",\"messageLabel\":\"Message\",\"messagePlaceholder\":\"Please briefly describe your needs\",\"submitButton\":\"Submit Collaboration Request\",\"submitting\":\"Submitting...\"},\"submitSuccess\":{\"title\":\"Submission Successful!\",\"message\":\"Thank you for your inquiry, our service consultant will contact you within 1-2 business days\"},\"sendAnother\":\"Send Another Message\",\"toast\":{\"success\":\"Submission Successful!\"},\"contact\":{\"wechat\":\"Scan WeChat QR Code\",\"scanQR\":\"Scan QR code to add on WeChat\",\"email\":\"Send Email\",\"responseTime\":\"We will reply to you within 1-2 business days\"}},\"partners\":{\"title\":\"Technology Partners\",\"description\":\"Establish strategic cooperation with industry-leading enterprises to jointly promote AI technology innovation and application\",\"sectionTag\":\"Our Partners\",\"sectionTitle\":\"Technology Partners\",\"sectionDescription\":\"Developed based on open source frameworks such as LangChain and FastAPI\",\"learnMore\":\"Learn More\",\"joinPartners\":\"Want to become a partner?\",\"contactUs\":\"Contact us\",\"companies\":{\"langchain\":{\"description\":\"Leading large language model application development framework\"},\"fastapi\":{\"description\":\"High-performance API development framework\"},\"dify\":{\"description\":\"Low-code/no-code AI application development platform\"},\"nextjs\":{\"description\":\"SEO-friendly full-stack application development framework\"}}},\"cases\":{\"sectionTag\":\"Success Stories\",\"sectionTitle\":\"Case Studies\",\"sectionDescription\":\"Explore our successfully implemented projects using large model technology\",\"viewDetails\":\"View Details →\",\"studies\":[{\"category\":\"Enterprise Services\",\"title\":\"Intelligent Customer Service System\",\"description\":\"LLM-based intelligent customer service solution increasing satisfaction by 30%\",\"challenge\":\"A large e-commerce enterprise faced high customer service costs, slow response times, and unstable service quality\",\"solution\":\"Deployed private LLM customer service system, enabling 7×24 intelligent responses with multi-turn dialogue and sentiment analysis\",\"results\":[\"Customer satisfaction increased by 30%\",\"Human agent workload reduced by 60%\",\"Average response time reduced from 5 minutes to 10 seconds\",\"Issue resolution rate improved to 92%\"],\"technologies\":[\"GPT-4\",\"RAG\",\"Sentiment Analysis\",\"Knowledge Graph\"]},{\"category\":\"Healthcare\",\"title\":\"Medical Data Analysis Platform\",\"description\":\"AI-powered medical data analysis assisting doctor diagnosis decisions\",\"challenge\":\"A tertiary hospital with over 10,000 daily outpatient visits, doctors under high diagnostic pressure, time-consuming medical records\",\"solution\":\"Built medical AI assistant integrated with EMR system, providing diagnostic suggestions and treatment plan references\",\"results\":[\"Medical record writing efficiency improved 3x\",\"Diagnostic accuracy increased by 15%\",\"Daily patient capacity increased by 25%\",\"Patient waiting time reduced by 40%\"],\"technologies\":[\"Medical NLP\",\"Knowledge Graph\",\"Multimodal Analysis\",\"Privacy Computing\"]},{\"category\":\"FinTech\",\"title\":\"Financial Risk Control System\",\"description\":\"Real-time transaction monitoring with 98% accuracy in anomaly detection\",\"challenge\":\"A bank suffered severe credit card fraud losses, traditional rule-based engines had high false positive rates\",\"solution\":\"AI-powered intelligent risk control system analyzing transaction behavior in real-time, dynamically adjusting risk strategies\",\"results\":[\"Fraud detection accuracy reached 98%\",\"False positive rate reduced by 70%\",\"Risk response time shortened to milliseconds\",\"Annual fraud losses reduced by 80M\"],\"technologies\":[\"Time Series Analysis\",\"Graph Neural Networks\",\"Anomaly Detection\",\"Federated Learning\"]},{\"category\":\"Online Education\",\"title\":\"Educational Content Generation Tool\",\"description\":\"Automatically generate personalized learning content for different learning styles\",\"challenge\":\"Education and training institutions struggled with slow content production, unable to meet personalized teaching needs\",\"solution\":\"AI teaching assistant generating courseware, exercises, and video scripts with one click, supporting multiple difficulty levels\",\"results\":[\"Content production efficiency improved 10x\",\"Course development cycle shortened from 2 weeks to 2 days\",\"Student completion rate increased by 35%\",\"Teacher preparation time saved by 50%\"],\"technologies\":[\"Content Generation\",\"Personalized Recommendation\",\"Knowledge Tracing\",\"Auto Assessment\"]},{\"category\":\"Architecture\",\"title\":\"AI-Assisted Architectural Design Platform\",\"description\":\"Intelligent design generation and optimization for building energy consumption and spatial layout\",\"challenge\":\"An architectural design institute faced long project cycles, frequent design changes, and energy optimization relying on experience\",\"solution\":\"AI architectural design assistant generating multiple scheme comparisons based on requirements, real-time energy consumption calculation\",\"results\":[\"Design cycle shortened by 50%\",\"Building energy consumption reduced by 20% on average\",\"Client satisfaction increased by 45%\",\"Design changes reduced by 60%\"],\"technologies\":[\"Generative Design\",\"BIM Integration\",\"Energy Simulation\",\"Spatial Optimization\"]},{\"category\":\"Smart Manufacturing\",\"title\":\"Industrial Quality Inspection Agent\",\"description\":\"AI vision inspection system for real-time defect detection and early warning\",\"challenge\":\"An auto parts factory had low manual inspection efficiency, high miss rates, and difficult quality traceability\",\"solution\":\"Deployed AI vision quality inspection system, real-time multi-station detection, automatic defect classification\",\"results\":[\"Inspection efficiency improved 8x\",\"Miss rate reduced from 3% to 0.1%\",\"Production line downtime reduced by 40%\",\"Quality traceability time reduced from hours to seconds\"],\"technologies\":[\"Computer Vision\",\"Edge Computing\",\"Digital Twin\",\"Predictive Maintenance\"]},{\"category\":\"Law Firm\",\"title\":\"Legal Document Intelligent Review System\",\"description\":\"Automated contract review and legal research to improve lawyer productivity\",\"challenge\":\"A large law firm faced heavy contract review workload, time-consuming legal research, and scattered knowledge management\",\"solution\":\"Legal AI assistant for intelligent contract clause review, automatic matching of relevant cases and regulations\",\"results\":[\"Contract review efficiency improved 5x\",\"Legal research time reduced by 80%\",\"Contract risk identification accuracy reached 95%\",\"Junior lawyer training cycle shortened by 50%\"],\"technologies\":[\"Legal NLP\",\"Knowledge Graph\",\"Intelligent Retrieval\",\"Document Analysis\"]},{\"category\":\"Accounting\",\"title\":\"Intelligent Audit Analysis Platform\",\"description\":\"AI-driven financial data analysis, automatic identification of abnormal transactions and risks\",\"challenge\":\"Accounting firms had many audit projects, large data processing volumes, limited coverage of manual sampling audits\",\"solution\":\"Intelligent audit system, full data analysis, automatic anomaly flagging, audit recommendation generation\",\"results\":[\"Audit efficiency improved 4x\",\"Abnormal transaction detection rate increased to 96%\",\"Audit coverage from sampling to full-scale\",\"Audit report generation time reduced by 70%\"],\"technologies\":[\"Financial NLP\",\"Anomaly Detection\",\"Data Mining\",\"Intelligent Report Generation\"]}]},\"Store\":{\"title\":\"App Store\",\"description\":\"Explore our AI applications to enhance your productivity and creativity\",\"searchPlaceholder\":\"Search apps...\",\"types\":{\"all\":\"All Types\",\"miniProgram\":\"Mini Program\",\"h5\":\"H5\",\"app\":\"App\"},\"categories\":{\"all\":\"All Categories\",\"tools\":\"Tools\",\"creativity\":\"Creativity\",\"development\":\"Development\",\"business\":\"Business\"},\"noAppsFound\":\"No matching apps found\",\"clearFilters\":\"Clear filters\",\"showingResults\":\"Showing {count} of {total} apps\",\"tryAdjustingFilters\":\"Try adjusting your search or filters\",\"meta\":{\"title\":\"App Store | Metasequoia Studio\",\"description\":\"Explore our AI applications to enhance your productivity and creativity\"}},\"Docs\":{\"loading\":\"Loading document...\",\"meta\":{\"title\":\"Documentation | Metasequoia Studio\",\"description\":\"Metasequoia Studio Documentation Center - Product guides, tutorials and technical reference\"},\"errors\":{\"title\":\"Error\",\"loadFailed\":\"Failed to load document\",\"notFound\":\"Document not found\"},\"search\":{\"placeholder\":\"Search documentation...\",\"noResults\":\"No matching documents found\",\"tryDifferent\":\"Try different keywords\"},\"categories\":{\"all\":\"All\",\"gettingStarted\":\"Getting Started\",\"technical\":\"Technical Docs\",\"help\":\"Help\"}}},\"now\":\"$undefined\",\"timeZone\":\"UTC\",\"children\":\"$L18\"}]\n"])</script><script>self.__next_f.push([1,"19:I[25554,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n1a:I[821,[\"6752\",\"static/chunks/6752-90baefdcb051c3c1.js\",\"1909\",\"static/chunks/1909-ac3fe94adcf1a95e.js\",\"2346\",\"static/chunks/2346-8f59889a5170c5da.js\",\"1278\",\"static/chunks/1278-1b71cee32080193b.js\",\"1399\",\"static/chunks/1399-c867858dd6d3be69.js\",\"8450\",\"static/chunks/app/%5Blocale%5D/layout-41f8cce3b90dae17.js\"],\"default\"]\n18:[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-screen\",\"children\":[[\"$\",\"$L19\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-grow\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L1a\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"1b:I[82435,[],\"IconMark\"]\n"])</script><script>self.__next_f.push([1,"a:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"AI 工作流搭建实战 | 文档中心\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"使用可视化工具搭建自动化 AI 工作流，提升业务效率\"}],[\"$\",\"link\",\"2\",{\"rel\":\"canonical\",\"href\":\"/en/docs/workflow\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:title\",\"content\":\"Metasequoia Studio\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:description\",\"content\":\"Providing customers with large model privatization deployment, application development and intelligent agent customization services\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:image\",\"content\":\"http://localhost:3000/favicon.jpg\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"Metasequoia Studio\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"Providing customers with large model privatization deployment, application development and intelligent agent customization services\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:image\",\"content\":\"http://localhost:3000/favicon.jpg\"}],[\"$\",\"link\",\"11\",{\"rel\":\"icon\",\"href\":\"/favicon.jpg\"}],[\"$\",\"$L1b\",\"12\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"f:\"$a:metadata\"\n"])</script></body></html>